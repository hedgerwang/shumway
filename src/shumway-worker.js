/*
 * Copyright 2013 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// This file is automatically generated

(function(a){function b(a,b,e,p,s){void 0===p&&d("Missing required offset argument");(0>p||p+e>a.byteLength)&&d("Invalid index: "+p);if(1===e||!!s===j){if(0===(a.byteOffset+p)%e)return(new b(a.buffer,a.byteOffset+p,1))[0];for(s=0;s<e;s++)g[s]=a._bytes[p+s];return(new b(g.buffer))[0]}for(s=0;s<e;s++)g[e-s-1]=a._bytes[p+s];return(new b(g.buffer))[0]}function e(a,b,e,p,s,l){void 0===p&&d("Missing required offset argument");void 0===s&&d("Missing required value argument");(0>p||p+e>a.byteLength)&&d("Invalid index: "+
p);if(1===e||!!l===j)if(0===(a.byteOffset+p)%e)(new b(a.buffer,a.byteOffset+p,1))[0]=s;else{(new b(g.buffer))[0]=s;for(b=0;b<e;b++)a._bytes[b+p]=g[b]}else{(new b(g.buffer))[0]=s;for(b=0;b<e;b++)a._bytes[p+b]=g[e-1-b]}}function d(a){throw Error(a);}if(!a.DataView){a.ArrayBuffer||d("ArrayBuffer not supported");Object.defineProperties||d("This module requires ECMAScript 5");var j=1===(new Int8Array((new Int32Array([1])).buffer))[0],g=new Uint8Array(8);a.DataView=function(a,b,e){a instanceof ArrayBuffer||
d("Bad ArrayBuffer");b=b||0;e=e||a.byteLength-b;(0>b||0>e||b+e>a.byteLength)&&d("Illegal offset and/or length");Object.defineProperties(this,{buffer:{value:a,enumerable:!1,writable:!1,configurable:!1},byteOffset:{value:b,enumerable:!1,writable:!1,configurable:!1},byteLength:{value:e,enumerable:!1,writable:!1,configurable:!1},_bytes:{value:new Uint8Array(a,b,e),enumerable:!1,writable:!1,configurable:!1}})};a.DataView.prototype={constructor:DataView,getInt8:function(a){return b(this,Int8Array,1,a)},
getUint8:function(a){return b(this,Uint8Array,1,a)},getInt16:function(a,f){return b(this,Int16Array,2,a,f)},getUint16:function(a,f){return b(this,Uint16Array,2,a,f)},getInt32:function(a,f){return b(this,Int32Array,4,a,f)},getUint32:function(a,f){return b(this,Uint32Array,4,a,f)},getFloat32:function(a,f){return b(this,Float32Array,4,a,f)},getFloat64:function(a,f){return b(this,Float64Array,8,a,f)},setInt8:function(a,b){e(this,Int8Array,1,a,b)},setUint8:function(a,b){e(this,Uint8Array,1,a,b)},setInt16:function(a,
b,d){e(this,Int16Array,2,a,b,d)},setUint16:function(a,b,d){e(this,Uint16Array,2,a,b,d)},setInt32:function(a,b,d){e(this,Int32Array,4,a,b,d)},setUint32:function(a,b,d){e(this,Uint32Array,4,a,b,d)},setFloat32:function(a,b,d){e(this,Float32Array,4,a,b,d)},setFloat64:function(a,b,d){e(this,Float64Array,8,a,b,d)}}}})(this);function scriptProperties(a,b){return b.reduce(function(b,d){b[d]=a+" "+d;return b},{})}function cloneObject(a){var b=Object.create(null),e;for(e in a)b[e]=a[e];return b}
function throwError(a,b){var e=formatErrorMessage.apply(null,slice.call(arguments,1));throwErrorFromVM(AVM2.currentDomain(),a,e,b.code)}function sortByDepth(a,b){var e=a._level,d=b._level;if(a._parent!==b._parent&&-1<a._index&&-1<b._index){for(;a._level>d;)a=a._parent;for(;b._level>e;)b=b._parent;for(;1<a._level&&a._parent!==b._parent;)a=a._parent,b=b._parent}return a===b?e-d:a._index-b._index}function sortNumeric(a,b){return a-b}
var Promise=function(){function a(a){return a}function b(a){throw a;}function e(a,b){a.subpromisesValue=b;var d=a.subpromises;if(d){for(var e=0;e<d.length;e++)d[e].fulfill(b);delete a.subpromises}}function d(a,b){a.subpromisesReason=b;var d=a.subpromises;if(d){for(var e=0;e<d.length;e++)d[e].reject(b);delete a.subpromises}}function j(a,b,k){try{var f=a(b);"object"===typeof f&&null!==f&&"function"===typeof f.then?f.then(function(a){e(k,a)},function(a){d(k,a)}):e(k,f)}catch(g){d(k,g)}}function g(){for(;0<
m.length;){var a=m[0];a.directCallback?a.callback.call(a.subject,a.arg):j(a.callback,a.arg,a.subject);m.shift()}}function k(a,b,d,e){0===m.length&&setTimeout(g,0);m.push({callback:a,arg:b,subject:d,directCallback:e})}function f(d,e){this.state="pending";this.onFulfilled="function"===typeof d?d:a;this.onRejected="function"===typeof e?e:b}var m=[];f.prototype={fulfill:function(a){"pending"===this.state&&(this.state="fulfilled",this.value=a,k(this.onFulfilled,a,this,!1))},reject:function(a){"pending"===
this.state&&(this.state="rejected",this.reason=a,k(this.onRejected,a,this,!1))},then:function(a,b){var d=new f(a,b);"subpromisesValue"in this?k(d.fulfill,this.subpromisesValue,d,!0):"subpromisesReason"in this?k(d.reject,this.subpromisesReason,d,!0):(this.subpromises||(this.subpromises=[])).push(d);return d},get resolved(){return"fulfilled"===this.state},resolve:function(a){this.fulfill(a)}};f.when=function(){function a(f){k.push(f);g<e.length?e[g++].then(a,b):d.resolve(k);return f}function b(a){d.reject(a)}
var d=new f;if(0===arguments.length)return d.resolve(),d;var e=slice.call(arguments,0),k=[],g=1;e[0].then(a,b);return d};return f}(),QuadTree=function(a,b,e,d,j){this.x=a|0;this.y=b|0;this.width=e|0;this.height=d|0;this.level=j|0;this.stuckObjects=[];this.objects=[];this.nodes=[]};QuadTree.prototype._findIndex=function(a,b,e,d){var j=this.x+(this.width/2|0),g=this.y+(this.height/2|0);d=b<g&&d<g;b=b>g;if(a<j&&e<j){if(d)return 1;if(b)return 2}else if(a>j){if(d)return 0;if(b)return 3}return-1};
QuadTree.prototype.insert=function(a){var b=this.nodes;if(b.length){var e=this._findIndex(a.xMin,a.yMin,a.xMax,a.yMax);-1<e?b[e].insert(a):(this.stuckObjects.push(a),a._qtree=this)}else if(b=this.objects,b.push(a),4<b.length&&10>this.level)for(this._subdivide();b.length;)this.insert(b.shift());else a._qtree=this};
QuadTree.prototype.delete=function(a){if(a._qtree===this){var b=this.objects.indexOf(a);-1<b?this.objects.splice(b,1):(b=this.stuckObjects.indexOf(a),this.stuckObjects.splice(b,1));a._qtree=null}};QuadTree.prototype._stack=[];QuadTree.prototype._out=[];
QuadTree.prototype.retrieve=function(a,b,e,d){var j=this._stack,g=this._out;g.length=0;var k=this;do{if(k.nodes.length){var f=k._findIndex(a,b,e,d);-1<f?j.push(k.nodes[f]):j.push.apply(j,k.nodes)}g.push.apply(g,k.stuckObjects);g.push.apply(g,k.objects);k=j.pop()}while(k);return g};
QuadTree.prototype._subdivide=function(){var a=this.width/2|0,b=this.height/2|0,e=this.x+a,d=this.y+b,j=this.level+1;this.nodes[0]=new QuadTree(e,this.y,a,b,j);this.nodes[1]=new QuadTree(this.x,this.y,a,b,j);this.nodes[2]=new QuadTree(this.x,d,a,b,j);this.nodes[3]=new QuadTree(e,d,a,b,j)};
var create=Object.create,defineProperty=Object.defineProperty,keys=Object.keys,isArray=Array.isArray,fromCharCode=String.fromCharCode,logE=Math.log,max=Math.max,min=Math.min,pow=Math.pow,push=Array.prototype.push,slice=Array.prototype.slice,splice=Array.prototype.splice;function fail(a,b){throw Error((b?b+": ":"")+a);}function assert(a,b,e){a||fail(b,e)}function rgbaObjToStr(a){return"rgba("+a.red+","+a.green+","+a.blue+","+a.alpha/255+")"}
function rgbIntAlphaToStr(a,b){a|=0;if(1<=b){for(var e=a.toString(16);6>e.length;)e="0"+e;return"#"+e}return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+b+")"}function argbUintToStr(a){return"rgba("+(a>>>16&255)+","+(a>>>8&255)+","+(a&255)+","+(a>>>24&255)/255+")"}
(function(){eval("function t() {} t.name === 't'")||Object.defineProperty(Function.prototype,"name",{get:function(){if(this.__name)return this.__name;var a=/function\s([^\(]+)/.exec(this.toString());return this.__name=a=a&&"anonymous"!==a[1]?a[1]:null},configurable:!0,enumerable:!1})})();var randomStyleCache;
function randomStyle(){if(!randomStyleCache){randomStyleCache=[];for(var a=0;50>a;a++)randomStyleCache.push("#"+("00000"+(16777216*Math.random()|0).toString(16)).slice(-6))}return randomStyleCache[Math.random()*randomStyleCache.length|0]}
var SWF_TAG_CODE_CSM_TEXT_SETTINGS=74,SWF_TAG_CODE_DEFINE_BINARY_DATA=87,SWF_TAG_CODE_DEFINE_BITS=6,SWF_TAG_CODE_DEFINE_BITS_JPEG2=21,SWF_TAG_CODE_DEFINE_BITS_JPEG3=35,SWF_TAG_CODE_DEFINE_BITS_JPEG4=90,SWF_TAG_CODE_DEFINE_BITS_LOSSLESS=20,SWF_TAG_CODE_DEFINE_BITS_LOSSLESS2=36,SWF_TAG_CODE_DEFINE_BUTTON=7,SWF_TAG_CODE_DEFINE_BUTTON2=34,SWF_TAG_CODE_DEFINE_BUTTON_CXFORM=23,SWF_TAG_CODE_DEFINE_BUTTON_SOUND=17,SWF_TAG_CODE_DEFINE_EDIT_TEXT=37,SWF_TAG_CODE_DEFINE_FONT=10,SWF_TAG_CODE_DEFINE_FONT2=48,SWF_TAG_CODE_DEFINE_FONT3=
75,SWF_TAG_CODE_DEFINE_FONT4=91,SWF_TAG_CODE_DEFINE_FONT_ALIGN_ZONES=73,SWF_TAG_CODE_DEFINE_FONT_INFO=13,SWF_TAG_CODE_DEFINE_FONT_INFO2=62,SWF_TAG_CODE_DEFINE_FONT_NAME=88,SWF_TAG_CODE_DEFINE_MORPH_SHAPE=46,SWF_TAG_CODE_DEFINE_MORPH_SHAPE2=84,SWF_TAG_CODE_DEFINE_SCALING_GRID=78,SWF_TAG_CODE_DEFINE_SCENE_AND_FRAME_LABEL_DATA=86,SWF_TAG_CODE_DEFINE_SHAPE=2,SWF_TAG_CODE_DEFINE_SHAPE2=22,SWF_TAG_CODE_DEFINE_SHAPE3=32,SWF_TAG_CODE_DEFINE_SHAPE4=83,SWF_TAG_CODE_DEFINE_SOUND=14,SWF_TAG_CODE_DEFINE_SPRITE=
39,SWF_TAG_CODE_DEFINE_TEXT=11,SWF_TAG_CODE_DEFINE_TEXT2=33,SWF_TAG_CODE_DEFINE_VIDEO_STREAM=60,SWF_TAG_CODE_DO_ABC=82,SWF_TAG_CODE_DO_ABC_=72,SWF_TAG_CODE_DO_ACTION=12,SWF_TAG_CODE_DO_INIT_ACTION=59,SWF_TAG_CODE_ENABLE_DEBUGGER=58,SWF_TAG_CODE_ENABLE_DEBUGGER2=64,SWF_TAG_CODE_END=0,SWF_TAG_CODE_EXPORT_ASSETS=56,SWF_TAG_CODE_FILE_ATTRIBUTES=69,SWF_TAG_CODE_FRAME_LABEL=43,SWF_TAG_CODE_IMPORT_ASSETS=57,SWF_TAG_CODE_IMPORT_ASSETS2=71,SWF_TAG_CODE_JPEG_TABLES=8,SWF_TAG_CODE_METADATA=77,SWF_TAG_CODE_PLACE_OBJECT=
4,SWF_TAG_CODE_PLACE_OBJECT2=26,SWF_TAG_CODE_PLACE_OBJECT3=70,SWF_TAG_CODE_PROTECT=24,SWF_TAG_CODE_REMOVE_OBJECT=5,SWF_TAG_CODE_REMOVE_OBJECT2=28,SWF_TAG_CODE_SCRIPT_LIMITS=65,SWF_TAG_CODE_SET_BACKGROUND_COLOR=9,SWF_TAG_CODE_SET_TAB_INDEX=66,SWF_TAG_CODE_SHOW_FRAME=1,SWF_TAG_CODE_SOUND_STREAM_BLOCK=19,SWF_TAG_CODE_SOUND_STREAM_HEAD=18,SWF_TAG_CODE_SOUND_STREAM_HEAD2=45,SWF_TAG_CODE_START_SOUND=15,SWF_TAG_CODE_START_SOUND2=89,SWF_TAG_CODE_SYMBOL_CLASS=76,SWF_TAG_CODE_VIDEO_FRAME=61;self.SWF={};
for(var FORMAT_COLORMAPPED=3,FORMAT_15BPP=4,FORMAT_24BPP=5,FACTOR_5BBP=255/31,crcTable=[],i=0;256>i;i++){for(var c=i,h=0;8>h;h++)c=c&1?3988292384^c>>1&2147483647:c>>1&2147483647;crcTable[i]=c}function crc32(a,b,e){for(var d=-1;b<e;b++)d=d>>>8^crcTable[(d^a[b])&255];return d^-1}
function createPngChunk(a,b){var e=new Uint8Array(12+b.length),d=0,j=b.length;e[d]=j>>24&255;e[d+1]=j>>16&255;e[d+2]=j>>8&255;e[d+3]=j&255;e[d+4]=a.charCodeAt(0)&255;e[d+5]=a.charCodeAt(1)&255;e[d+6]=a.charCodeAt(2)&255;e[d+7]=a.charCodeAt(3)&255;b instanceof Uint8Array&&e.set(b,8);d=8+j;j=crc32(e,4,d);e[d]=j>>24&255;e[d+1]=j>>16&255;e[d+2]=j>>8&255;e[d+3]=j&255;return e}function adler32(a,b,e){for(var d=1,j=0;b<e;++b)d=(d+(a[b]&255))%65521,j=(j+d)%65521;return j<<16|d}
function defineBitmap(a){var b=a.width,e=a.height,d=a.hasAlpha,j="",g="",k,f=a.bmpData;switch(a.format){case 3:var m=3,p=b+3&-4;k=(a.colorTableSize+1)*(a.hasAlpha?4:3);var s=k+p*e,l=createInflatedStream(f,s),n=l.bytes,f=0;l.ensure(k);if(d){for(var j=new Uint8Array(3*(k/4)),r=0,g=new Uint8Array(k/4),d=0;f<k;)j[r++]=n[f],j[r++]=n[f+1],j[r++]=n[f+2],g[d++]=n[f+3],f+=4;j=createPngChunk("PLTE",j);g=createPngChunk("tRNS",g)}else j=createPngChunk("PLTE",n.subarray(f,f+k)),f+=k;k=new Uint8Array(b*e+e);for(r=
0;f<s;){l.ensure(p);var d=f,q=d+b;r++;k.set(n.subarray(d,q),r);r+=q-d;l.pos=f+=p}break;case 4:m=2;p=2*b+3&-4;l=createInflatedStream(f,p*e);f=0;k=new Uint8Array(3*b*e+e);for(s=r=0;s<e;++s){r++;l.ensure(p);for(q=0;q<b;++q)n=l.getUint16(f),f+=2,k[r++]=0|FACTOR_5BBP*(n>>10&31),k[r++]=0|FACTOR_5BBP*(n>>5&31),k[r++]=0|FACTOR_5BBP*(n&31);l.pos=f+=p}break;case 5:var v;d?(m=6,v=0,k=new Uint8Array(4*b*e+e)):(m=2,v=1,k=new Uint8Array(3*b*e+e));p=4*b;l=createInflatedStream(f,p*e);n=l.bytes;for(s=r=f=0;s<e;++s){l.ensure(p);
r++;for(q=0;q<b;++q){f+=v;if(d){var t=n[f];if(t){var u=t/255;k[r++]=0|n[f+1]/u;k[r++]=0|n[f+2]/u;k[r++]=0|n[f+3]/u;k[r++]=t}else r+=4}else k[r++]=n[f],k[r++]=n[f+1],k[r++]=n[f+2];f+=4-v}l.pos=f}break;default:fail("invalid format","bitmap")}m=new Uint8Array([b>>24&255,b>>16&255,b>>8&255,b&255,e>>24&255,e>>16&255,e>>8&255,e&255,8,m,0,0,0]);n=k.length;p=new Uint8Array(2+n+5*Math.ceil(n/65535)+4);l=0;p[l++]=120;p[l++]=156;for(f=0;65535<n;)p[l++]=0,p[l++]=255,p[l++]=255,p[l++]=0,p[l++]=0,p.set(k.subarray(f,
f+65535),l),l+=65535,f+=65535,n-=65535;p[l++]=1;p[l++]=n&255;p[l++]=n>>8&255;p[l++]=~n&255;p[l++]=(~n&65535)>>8&255;p.set(k.subarray(f),l);l+=k.length-f;f=adler32(k,0,k.length);p[l++]=f>>24&255;p[l++]=f>>16&255;p[l++]=f>>8&255;p[l++]=f&255;f=[new Uint8Array([137,80,78,71,13,10,26,10]),createPngChunk("IHDR",m),j,g,createPngChunk("IDAT",p),createPngChunk("IEND","")];return{type:"image",id:a.id,width:b,height:e,mimeType:"image/png",data:new Blob(f,{type:"image/png"})}}
function defineButton(a,b){for(var e=a.characters,d={up:{},over:{},down:{},hitTest:{}},j=0,g;(g=e[j++])&&!g.eob;){var k={symbolId:b[g.symbolId].id,hasMatrix:!!g.matrix,matrix:g.matrix};g.stateUp&&(d.up[g.depth]=k);g.stateOver&&(d.over[g.depth]=k);g.stateDown&&(d.down[g.depth]=k);g.stateHitTest&&(d.hitTest[g.depth]=k)}return{type:"button",id:a.id,buttonActions:a.buttonActions,states:d}}var nextFontId=1;function maxPower2(a){for(var b=0;2<=a;)a/=2,++b;return pow(2,b)}
function toString16(a){return fromCharCode(a>>8&255,a&255)}function toString32(a){return toString16(a>>16)+toString16(a)}
function defineFont(a){var b={},e=[],d={},j=[],g=a.glyphs,k=g.length;if(a.codes){for(var e=e.concat(a.codes),f=0,m;m=e[f];++f)d[m]=f;e.sort(function(a,b){return a-b});for(f=0;m=e[f++];){for(var p=m,s=p,l=[f-1];(m=e[f])&&s+1===m;)++s,l.push(f),++f;j.push([p,s,l])}}else{l=[];for(f=0;f<k;f++)m=57344+f,e.push(m),d[m]=f,l.push(f);j.push([57344,57344+k-1,l])}var l=Math.ceil(a.ascent/20)||1024,n=-Math.ceil(a.descent/20)||0,r=Math.floor(a.leading/20)||0;b["OS/2"]="\x00\u0001\x00\x00"+toString16(a.bold?700:
400)+"\x00\u0005\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00ALF "+toString16((a.italic?1:0)|(a.bold?32:0))+toString16(e[0])+toString16(e[e.length-1])+toString16(l)+toString16(n)+toString16(r)+toString16(l)+toString16(-n)+"\x00\x00\x00\x00\x00\x00\x00\x00";for(var q="",v="",t="",u="",f=0,x;x=j[f++];)p=x[0],s=x[1],m=x[2][0],q+=toString16(p),v+=toString16(s),
t+=toString16(m-p+1&65535),u+=toString16(0);v+="\u00ff\u00ff";q+="\u00ff\u00ff";t+="\x00\u0001";u+="\x00\x00";j=j.length+1;f=2*maxPower2(j);p=2*j-f;f="\x00\x00"+toString16(2*j)+toString16(f)+toString16(logE(j)/logE(2))+toString16(p)+v+"\x00\x00"+q+t+u;b.cmap="\x00\x00\x00\u0001\x00\u0003\x00\u0001\x00\x00\x00\f\x00\u0004"+toString16(f.length+4)+f;p="\x00\u0001\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x001\x00";v="\x00\x00";j=a.resolution||1;q=16;t=0;s=[];x=[];for(var w=[],A=[],f=u=0;m=e[f++];){var C=
g[d[m]].records;m=1;for(var y=0,D="",z="",J="",H="",E=0,F=0,L=1024,I=-1024,G=1024,M=-1024,N=0,B;B=C[N];++N)if(B.type){if(B.isStraight)if(B.isGeneral){var z=z+"\u0001",K=B.deltaX/j;B=-B.deltaY/j;J+=toString16(K);H+=toString16(B);E+=K;F+=B}else B.isVertical?(z+="\u0011",B=-B.deltaY/j,H+=toString16(B),F+=B):(z+="!",K=B.deltaX/j,J+=toString16(K),E+=K);else{var z=z+"\x00",O=B.controlDeltaX/j,P=-B.controlDeltaY/j,J=J+toString16(O),H=H+toString16(P),z=z+"\u0001",K=B.anchorDeltaX/j;B=-B.anchorDeltaY/j;J+=
toString16(K);H+=toString16(B);++y;E+=O+K;F+=P+B}E<L&&(L=E);E>I&&(I=E);F<G&&(G=F);F>M&&(M=F);++y}else{if(B.eos)break;B.move&&(y&&(++m,D+=toString16(y-1)),z+="\u0001",O=B.moveX/j,P=-B.moveY/j,K=O-E,B=P-F,J+=toString16(K),H+=toString16(B),E=O,F=P,y>t&&(t=y),E<L&&(L=E),E>I&&(I=E),F<G&&(G=F),F>M&&(M=F),++y)}D+=toString16((y||1)-1);N||(L=I=G=M=0,z+="1");C=toString16(m)+toString16(L)+toString16(G)+toString16(I)+toString16(M)+D+"\x00\x00"+z+J+H;C.length&1&&(C+="\x00");p+=C;v+=toString16(q/2);q+=C.length;
s.push(L);x.push(I);w.push(G);A.push(M);m>u&&(u=m);y>t&&(t=y)}v+=toString16(q/2);b.glyf=p;b.head="\x00\u0001\x00\x00\x00\u0001\x00\x00\x00\x00\x00\x00_\u000f<\u00f5\x00\v\u0004\x00\x00\x00\x00\x00"+toString32(+new Date)+"\x00\x00\x00\x00"+toString32(+new Date)+toString16(min.apply(null,s))+toString16(min.apply(null,w))+toString16(max.apply(null,x))+toString16(max.apply(null,A))+toString16((a.italic?2:0)|(a.bold?1:0))+"\x00\b\x00\u0002\x00\x00\x00\x00";g=a.advance;j=a.resolution||1;b.hhea="\x00\u0001\x00\x00"+
toString16(l)+toString16(n)+toString16(r)+toString16(g?max.apply(null,g):1024)+"\x00\x00\x00\x00\u0003\u00b8\x00\u0001\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"+toString16(k+1);q="\x00\x00\x00\x00";for(f=0;f<k;++f)q+=toString16(g?g[f]/j:1024)+"\x00\x00";b.hmtx=q;if(a.kerning){g=a.kerning;q=g.length;f=2*maxPower2(q);q="\x00\x00\x00\u0001\x00\x00"+toString16(14+6*q)+"\x00\u0001"+toString16(q)+toString16(f)+toString16(logE(q)/logE(2))+toString16(2*q-f);for(f=0;B=g[f++];)q+=toString16(d[B.code1])+
toString16(d[B.code2])+toString16(B.adjustment);b.kern=q}b.loca=v;b.maxp="\x00\u0001\x00\x00"+toString16(k+1)+toString16(t)+toString16(u)+"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";d="swf-font-"+nextFontId++;k=a.name||d;g=k.replace(/ /g,"");t=[a.copyright||"Original licence",k,"Unknown",d,k,"1.0",g,"Unknown","Unknown","Unknown"];f=t.length;v="\x00\x00"+toString16(f)+toString16(12*f+6);for(f=q=0;u=t[f++];)v+="\x00\u0001\x00\x00\x00\x00"+toString16(f-
1)+toString16(u.length)+toString16(q),q+=u.length;b.name=v+t.join("");b.post="\x00\u0003\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";t=keys(b);f=t.length;u="\x00\u0001\x00\x00"+toString16(f)+"\x00\u0080\x00\u0003\x00 ";j="";q=16*f+u.length;for(f=0;v=t[f++];){p=b[v];s=p.length;for(u+=v+"\x00\x00\x00\x00"+toString32(q)+toString32(s);s&3;)p+="\x00",++s;for(j+=p;q&3;)++q;q+=s}return{type:"font",id:a.id,name:k,uniqueName:g+d,
codes:e,metrics:{ascent:l/1024,descent:n/1024,leading:r/1024},data:u+j}}function getUint16(a,b){return a[b]<<8|a[b+1]}function parseJpegChunks(a,b){var e=0,d=b.length,j=[],g;do{for(var k=e;e<d&&255!==b[e];)++e;for(;e<d&&255===b[e];)++e;g=b[e++];if(218===g)e=d;else if(217===g){e+=2;continue}else if(208>g||216<g){var f=getUint16(b,e);192<=g&&195>=g&&(a.height=getUint16(b,e+3),a.width=getUint16(b,e+5));e+=f}j.push(b.subarray(k,e))}while(e<d);return j}
function defineImage(a,b){var e={type:"image",id:a.id,mimeType:a.mimeType},d=a.imgData;if("image/jpeg"===a.mimeType){var d=parseJpegChunks(e,d),j=a.alphaData;j&&(e.mask=createInflatedStream(j,e.width*e.height).bytes);if(a.incomplete&&(j=b[0].data)&&j.size)d[0]=d[0].subarray(2),d.unshift(j.slice(0,j.size-2))}else d=[d];e.data=new Blob(d,{type:a.mimeType});return e}
function defineLabel(a,b){for(var e=a.records,d=a.matrix,j=["c.save()","c.transform("+[d.a,d.b,d.c,d.d,d.tx,d.ty].join()+")","c.scale(0.05, 0.05)"],d=[],g=0,k=0,f=0,m,p;(m=e[f++])&&!m.eot;){if(m.hasFont){var s=b[m.fontId];p=s.codes;j.push('c.font="'+m.fontHeight+"px '"+s.uniqueName+"'\"");d.push(s.id)}m.hasColor?(j.push('ct.setFillStyle(c,"'+rgbaObjToStr(m.color)+'")'),j.push("ct.setAlpha(c)")):j.push("ct.setAlpha(c,true)");m.hasMoveX&&(g=m.moveX);m.hasMoveY&&(k=m.moveY);m=m.entries;for(var s=0,l;l=
m[s++];){var n=p[l.glyphIndex],n=32<=n&&34!=n&&92!=n?fromCharCode(n):"\\u"+(n+65536).toString(16).substring(1);j.push('c.fillText("'+n+'",'+g+","+k+")");g+=l.advance}}j.push("c.restore()");e={type:"label",id:a.id,bbox:a.bbox,data:j.join("\n")};d.length&&(e.require=d);return e}
var GRAPHICS_FILL_CLIPPED_BITMAP=65,GRAPHICS_FILL_FOCAL_RADIAL_GRADIENT=19,GRAPHICS_FILL_LINEAR_GRADIENT=16,GRAPHICS_FILL_NONSMOOTHED_CLIPPED_BITMAP=67,GRAPHICS_FILL_NONSMOOTHED_REPEATING_BITMAP=66,GRAPHICS_FILL_RADIAL_GRADIENT=18,GRAPHICS_FILL_REPEATING_BITMAP=64,GRAPHICS_FILL_SOLID=0;
function applySegmentToStyles(a,b,e,d,j){if(a){var g=a.commands,k=a.data;a=a.morphData;var f,m;if(b.fill0){d=d[b.fill0-1];!b.fill1&&!b.line?(f=d.head(),f.commands=[],f.data=[],f.morphData=j?[]:null):f=d.addSegment([],[],j?[]:null);d=f.commands;var p=f.data,s=f.morphData;d.push(SHAPE_MOVE_TO);var l=k.length-2;p.push(k[l],k[l+1]);j&&s.push(a[l],a[l+1]);for(m=g.length;1<m--;l-=2)f=g[m],d.push(f),p.push(k[l-2],k[l-1]),j&&s.push(a[l-2],a[l-1]),f===SHAPE_CURVE_TO&&(p.push(k[l-4],k[l-3]),j&&s.push(a[l-4],
a[l-3]),l-=2)}b.line&&b.fill1&&(d=e[b.line-1],d.addSegment(g,k,a))}}
function convertRecordsToStyledPaths(a,b,e,d,j,g){for(var k=null!==g,f={fill0:0,fill1:0,line:0},m=null,p=b,s=e,l=a.length-1,n=0,r=0,q=0,v=0,t,u=0,x=0;u<l;u++){var w=a[u],A;k&&(A=g[x++]);if(0===w.type)m&&applySegmentToStyles(m,f,e,b,k),w.hasNewStyles&&(b=createPathsList(w.fillStyles,!1,d,j),push.apply(p,b),e=createPathsList(w.lineStyles,!0,d,j),push.apply(s,e),f={fill0:0,fill1:0,line:0}),w.hasFillStyle0&&(f.fill0=w.fillStyle0),w.hasFillStyle1&&(f.fill1=w.fillStyle1),w.hasLineStyle&&(f.line=w.lineStyle),
f.fill1?t=b[f.fill1-1]:f.line?t=e[f.line-1]:f.fill0&&(t=b[f.fill0-1]),w.move&&(n=w.moveX|0,r=w.moveY|0),t&&(m=t.addSegment([],[],k?[]:null),m.commands.push(SHAPE_MOVE_TO),m.data.push(n,r),k&&(0===A.type?(q=A.moveX|0,v=A.moveY|0):(q=n,v=r,x--),m.morphData.push(q,v)));else if(w.isStraight&&(!k||A.isStraight))n+=w.deltaX|0,r+=w.deltaY|0,m.commands.push(SHAPE_LINE_TO),m.data.push(n,r),k&&(q+=A.deltaX|0,v+=A.deltaY|0,m.morphData.push(q,v));else{var C,y,D;w.isStraight?(D=w.deltaX|0,w=w.deltaY|0,C=n+(D>>
1),y=r+(w>>1),n+=D,r+=w):(C=n+w.controlDeltaX|0,y=r+w.controlDeltaY|0,n=C+w.anchorDeltaX|0,r=y+w.anchorDeltaY|0);m.commands.push(SHAPE_CURVE_TO);m.data.push(C,y,n,r);k&&(A.isStraight?(D=A.deltaX|0,w=A.deltaY|0,C=q+(D>>1),y=v+(w>>1),q+=D,v+=w):(C=q+A.controlDeltaX|0,y=v+A.controlDeltaY|0,q=C+A.anchorDeltaX|0,v=y+A.anchorDeltaY|0),m.morphData.push(C,y,q,v))}}applySegmentToStyles(m,f,e,b,k);push.apply(p,s);for(u=a=0;u<p.length;u++)t=p[u],t.head()?p[u-a]=segmentedPathToShapePath(t,k):a++;p.length-=a;
return p}
function segmentedPathToShapePath(a,b){for(var e=a.head(),d=e,j=null,g=null,k=0,f=e.prev;e;){for(;f;)a.segmentsConnect(f,e)?(f.next!==e&&(a.removeSegment(f),a.insertSegment(f,e)),e=f,f=e.prev,k++):a.segmentsConnect(d,f)?(a.removeSegment(f),d.next=f,f=f.prev,d.next.prev=d,d.next.next=null,d=d.next,k++):f=f.prev;f=e.prev;j?(g.next=e,e.prev=g,g=d,g.next=null):(j=e,g=d);if(!f)break;e=d=f;f=e.prev}e=-k;k=-k<<1;for(f=j;f;)e+=f.commands.length,k+=f.data.length,f=f.next;for(var k=new ShapePath(a.fillStyle,a.lineStyle,
e,k,b),e=k.commands,d=k.data,g=k.morphData,m=0,p=0,f=j;f;){var j=0,s=f.commands,l=f.data,n=f.morphData;l[0]===d[p-2]&&l[1]===d[p-1]&&(j=1);for(var r=j;r<s.length;r++,m++)e[m]=s[r];for(r=j<<1;r<l.length;r++,p++)d[p]=l[r],b&&(g[p]=n[r]);f=f.next}return k}var CAPS_STYLE_TYPES=["round","none","square"],JOIN_STYLE_TYPES=["round","bevel","miter"];
function processStyle(a,b,e,d){if(b&&(a.lineCap=CAPS_STYLE_TYPES[a.endCapStyle|0],a.lineJoin=JOIN_STYLE_TYPES[a.joinStyle|0],a.miterLimit=2*a.miterLimitFactor,!a.color&&a.hasFill)){var j=processStyle(a.fillStyle,!1,e,d);a.style=j.style;a.type=j.type;a.transform=j.transform;a.records=j.records;a.focalPoint=j.focalPoint;a.bitmapId=j.bitmapId;a.repeat=j.repeat;a.fillStyle=null;return a}if(void 0===a.type||0===a.type)return j=a.color,a.style="rgba("+j.red+","+j.green+","+j.blue+","+j.alpha/255+")",a.color=
null,a;switch(a.type){case 16:case 18:case 19:j=819.2;break;case 64:case 65:case 66:case 67:e[a.bitmapId]&&(d.push(e[a.bitmapId].id),j=0.05);break;default:fail("invalid fill style","shape")}if(!a.matrix)return a;b=a.matrix;a.transform={a:b.a*j,b:b.b*j,c:b.c*j,d:b.d*j,e:b.tx,f:b.ty};a.matrix=null;return a}function createPathsList(a,b,e,d){for(var j=[],g=0;g<a.length;g++){var k=processStyle(a[g],b,e,d);j[g]=b?new SegmentedPath(null,k):new SegmentedPath(k,null)}return j}
function defineShape(a,b){var e=[],d=createPathsList(a.fillStyles,!1,b,e),j=createPathsList(a.lineStyles,!0,b,e),d=convertRecordsToStyledPaths(a.records,d,j,b,e,a.recordsMorph||null);if(a.bboxMorph&&(j=a.bboxMorph,extendBoundsByPoint(a.bbox,j.xMin,j.yMin),extendBoundsByPoint(a.bbox,j.xMax,j.yMax),j=a.strokeBboxMorph))extendBoundsByPoint(a.strokeBbox,j.xMin,j.yMin),extendBoundsByPoint(a.strokeBbox,j.xMax,j.yMax);return{type:"shape",id:a.id,strokeBbox:a.strokeBbox,strokeBboxMorph:a.strokeBboxMorph,
bbox:a.bbox,bboxMorph:a.bboxMorph,isMorph:a.isMorph,paths:d,require:e.length?e:null}}function SegmentedPath(a,b){this.fillStyle=a;this.lineStyle=b;this._head=null}
SegmentedPath.prototype={addSegment:function(a,b,e){a={commands:a,data:b,morphData:e,prev:this._head,next:null};this._head&&(this._head.next=a);return this._head=a},removeSegment:function(a){a.prev&&(a.prev.next=a.next);a.next&&(a.next.prev=a.prev)},insertSegment:function(a,b){var e=b.prev;a.prev=e;a.next=b;e&&(e.next=a);b.prev=a},head:function(){return this._head},segmentsConnect:function(a,b){var e=a.data.length;return a.data[e-2]===b.data[0]&&a.data[e-1]===b.data[1]}};
var SHAPE_MOVE_TO=1,SHAPE_LINE_TO=2,SHAPE_CURVE_TO=3,SHAPE_WIDE_MOVE_TO=4,SHAPE_WIDE_LINE_TO=5,SHAPE_CUBIC_CURVE_TO=6,SHAPE_ROUND_CORNER=7,SHAPE_CIRCLE=8,SHAPE_ELLIPSE=9;function ShapePath(a,b,e,d,j){this.fillStyle=a;this.lineStyle=b;e?(this.commands=new Uint8Array(e),this.data=new Int32Array(d),this.morphData=j?new Int32Array(d):null):(this.commands=[],this.data=[]);this.strokeBounds=this.bounds=null;this.isMorph=j;this.fullyInitialized=!1}
ShapePath.prototype={moveTo:function(a,b){1===this.commands[this.commands.length-1]?(this.data[this.data.length-2]=a,this.data[this.data.length-1]=b):(this.commands.push(1),this.data.push(a,b))},lineTo:function(a,b){this.commands.push(2);this.data.push(a,b)},curveTo:function(a,b,e,d){this.commands.push(3);this.data.push(a,b,e,d)},cubicCurveTo:function(a,b,e,d,j,g){this.commands.push(6);this.data.push(a,b,e,d,j,g)},rect:function(a,b,e,d){e=a+e;d=b+d;this.commands.push(1,2,2,2,2);this.data.push(a,b,
e,b,e,d,a,d,a,b)},circle:function(a,b,e){this.commands.push(8);this.data.push(a,b,e)},drawRoundCorner:function(a,b,e,d,j,g){this.commands.push(7);this.data.push(a,b,e,d,j,g)},ellipse:function(a,b,e,d){this.commands.push(9);this.data.push(a,b,e,d)},draw:function(a,b,e,d){if(!b||this.fillStyle){a.beginPath();for(var j=this.commands,g=this.data,k=this.morphData,f=!1,m=0,p=0,s=0,l=0;s<j.length;s++)if(this.isMorph)switch(j[s]){case 1:a.moveTo(morph(g[l]/20,k[l++]/20,e),morph(g[l]/20,k[l++]/20,e));break;
case 2:a.lineTo(morph(g[l]/20,k[l++]/20,e),morph(g[l]/20,k[l++]/20,e));break;case 3:a.quadraticCurveTo(morph(g[l]/20,k[l++]/20,e),morph(g[l]/20,k[l++]/20,e),morph(g[l]/20,k[l++]/20,e),morph(g[l]/20,k[l++]/20,e));break;default:console.warn("Drawing command not supported for morph shapes: "+j[s])}else switch(j[s]){case 1:f=!0;m=g[l++]/20;p=g[l++]/20;a.moveTo(m,p);break;case 4:a.moveTo(g[l++]/20,g[l++]/20);l+=2;break;case 2:a.lineTo(g[l++]/20,g[l++]/20);break;case 5:a.lineTo(g[l++]/20,g[l++]/20);l+=
2;break;case 3:a.quadraticCurveTo(g[l++]/20,g[l++]/20,g[l++]/20,g[l++]/20);break;case 6:a.bezierCurveTo(g[l++]/20,g[l++]/20,g[l++]/20,g[l++]/20,g[l++]/20,g[l++]/20);break;case 7:var n=g[l++],r=g[l++],q=g[l++],v=g[l++],t=g[l++],u=g[l++],x;q===n?v>r?(q-=t,n=1.5*Math.PI,r=2*Math.PI):(q+=t,n=0.5*Math.PI,r=Math.PI):q>n?(v+=u,n=Math.PI,r=1.5*Math.PI):(v-=u,n=0,r=0.5*Math.PI);if(t!==u){a.save();var w;t>u?(w=t/u,x=u,q/=w,a.scale(w,1)):(w=u/t,x=t,v/=w,a.scale(1,w))}a.arc(q/20,v/20,x/20,n,r,!1);t!==u&&a.restore();
break;case 8:f&&(a.lineTo(m,p),f=!1);a.moveTo((g[l]+g[l+2])/20,g[l+1]/20);a.arc(g[l++]/20,g[l++]/20,g[l++]/20,0,2*Math.PI,!1);break;case 9:f&&(a.lineTo(m,p),f=!1);q=g[l++];v=g[l++];t=g[l++];u=g[l++];t!==u&&(a.save(),t>u?(w=t/u,x=u,q/=w,a.scale(w,1)):(w=u/t,x=t,v/=w,a.scale(1,w)));a.moveTo((q+x)/20,v/20);a.arc(q/20,v/20,x/20,0,2*Math.PI,!1);t!==u&&a.restore();break;default:console.warn("Unknown drawing command encountered: "+j[s])}if(!b){if(b=this.fillStyle)d.setFillStyle(a,b.style),b=b.transform,
a.save(),d.setAlpha(a),b&&a.transform(b.a,b.b,b.c,b.d,b.e/20,b.f/20),a.fill(),a.restore();if(b=this.lineStyle)d.setStrokeStyle(a,b.style),a.save(),d.setAlpha(a),a.lineWidth=Math.max(b.width/20,1),a.lineCap=b.lineCap,a.lineJoin=b.lineJoin,a.miterLimit=b.miterLimit,a.stroke(),a.restore()}a.closePath()}},isPointInPath:function(a,b){if(!this.fillStyle&&!this.lineStyle)return!1;var e=this.strokeBounds||this.bounds||this._calculateBounds();return a<e.xMin||a>e.xMax||b<e.yMin||b>e.yMax?!1:this.fillStyle&&
this.isPointInFill(a,b)?!0:this.lineStyle&&void 0!==this.lineStyle.width&&this.isPointInStroke(a,b)},isPointInFill:function(a,b){for(var e=this.commands,d=this.data,j=e.length,g=!1,k=0,f=0,m=0,p=0,s,l,n,r,q=!1,v=0,t=0,u=0,x=0;u<j;u++){switch(e[u]){case 4:x+=2;case 1:m=d[x++];p=d[x++];q&&intersectsLine(a,b,k,f,v,t)&&(g=!g);q=!0;v=m;t=p;break;case 5:x+=2;case 2:m=d[x++];p=d[x++];intersectsLine(a,b,k,f,m,p)&&(g=!g);break;case 3:s=d[x++];l=d[x++];m=d[x++];p=d[x++];if(l>b===f>b&&p>b===f>b)break;if(k>=
a&&s>=a&&m>=a){g=!g;break}n=f-2*l+p;l=2*(l-f);r=l*l-4*n*(f-b);if(0>r)break;r=Math.sqrt(r);n=1/(n+n);f=(r-l)*n;l=(-l-r)*n;0<=f&&(1>=f&&quadraticBezier(k,s,m,f)>a)&&(g=!g);0<=l&&(1>=l&&quadraticBezier(k,s,m,l)>a)&&(g=!g);break;case 6:s=d[x++];l=d[x++];var w=d[x++],A=d[x++],m=d[x++],p=d[x++];if(l>b===f>b&&A>b===f>b&&p>b===f>b)break;if(k>=a&&s>=a&&w>=a&&m>=a){g=!g;break}s=cubicXAtY(k,f,s,l,w,A,m,p,b);for(k=s.length;k--;)s[k]>=a&&(g=!g);break;case 7:x++;x++;m=d[x++];p=d[x++];n=d[x++];r=d[x++];if(p>b===
f>b||k<a&&m<a)break;if(k>=a&&m>=a){g=!g;break}m>k===p>f?(w=k,A=p):(w=m,A=f);k=a-w;f=b-A;1>=k*k/(n*n)+f*f/(r*r)!==0>=k&&(g=!g);break;case 8:m=d[x++];p=d[x++];s=d[x++];k=a-m;f=b-p;k*k+f*f<s*s&&(g=!g);m+=s;break;case 9:s=d[x++];l=d[x++];n=d[x++];r=d[x++];k=a-s;f=b-l;1>=k*k/(n*n)+f*f/(r*r)&&(g=!g);m=s+n;p=l;break;default:inWorker||console.warn("Drawing command not handled in isPointInPath: "+e[u])}k=m;f=p}q&&intersectsLine(a,b,k,f,v,t)&&(g=!g);return g},isPointInStroke:function(a,b){for(var e=this.commands,
d=this.data,j=e.length,g=this.lineStyle.width,k=g/2,f=k*k,m=a-k,p=a+k,s=b-k,l=b+k,n=0,r=0,q=0,v=0,t,u,x,w,A,C=0,y=0;C<j;C++){switch(e[C]){case 4:y+=2;case 1:q=d[y++];v=d[y++];break;case 5:y+=2;case 2:q=d[y++];v=d[y++];if(n===q&&r===v)break;if(p<n&&p<q||m>n&&m>q||l<r&&l<v||s>r&&s>v)break;if(q===n||v===r)return!0;A=((a-n)*(q-n)+(b-r)*(v-r))/distanceSq(n,r,q,v);if(0>A){if(distanceSq(a,b,n,r)<=f)return!0;break}if(1<A){if(distanceSq(a,b,q,v)<=f)return!0;break}if(distanceSq(a,b,n+A*(q-n),r+A*(v-r))<=f)return!0;
break;case 3:t=d[y++];u=d[y++];var q=d[y++],v=d[y++],D=quadraticBezierExtreme(n,t,q);if(p<n&&p<D&&p<q||m>n&&m>D&&m>q)break;D=quadraticBezierExtreme(r,u,v);if(l<r&&l<D&&l<v||s>r&&s>D&&s>v)break;for(A=0;1>A;A+=0.02)if(x=quadraticBezier(n,t,q,A),!(x<m||x>p))if(w=quadraticBezier(r,u,v,A),!(w<s||w>l)&&(a-x)*(a-x)+(b-w)*(b-w)<f)return!0;break;case 6:t=d[y++];u=d[y++];var z=d[y++],D=d[y++],q=d[y++],v=d[y++];for(x=cubicBezierExtremes(n,t,z,q);2>x.length;)x.push(q);if(p<n&&p<q&&p<x[0]&&p<x[1]||m>n&&m>q&&m>
x[0]&&m>x[1])break;for(x=cubicBezierExtremes(r,u,D,v);2>x.length;)x.push(v);if(l<r&&l<v&&l<x[0]&&l<x[1]||s>r&&s>v&&s>x[0]&&s>x[1])break;for(A=0;1>A;A+=0.02)if(x=cubicBezier(n,t,z,q,A),!(x<m||x>p))if(w=cubicBezier(r,u,D,v,A),!(w<s||w>l)&&(a-x)*(a-x)+(b-w)*(b-w)<f)return!0;break;case 7:y++;y++;q=d[y++];v=d[y++];x=d[y++];w=d[y++];if(p<n&&p<q||m>n&&m>q||l<r&&l<v||s>r&&s>v)break;q>n===v>r?(z=n,D=v):(z=q,D=r);t=Math.abs(a-z);u=Math.abs(b-D);t-=k;u-=k;if(1<t*t/(x*x)+u*u/(w*w))break;t+=g;u+=g;if(1<t*t/(x*
x)+u*u/(w*w))return!0;break;case 8:t=d[y++];u=d[y++];n=d[y++];q=t+n;v=u;if(p<t-n||m>t+n||l<u-n||s>u+n)break;t=a-t;u=b-u;r=n-k;n+=k;u=t*t+u*u;if(u>=r*r&&u<=n*n)return!0;break;case 9:t=d[y++];u=d[y++];x=d[y++];w=d[y++];q=t+x;v=u;t=Math.abs(a-t);u=Math.abs(b-u);t-=k;u-=k;if(1<t*t/(x*x)+u*u/(w*w))break;t+=g;u+=g;if(1<t*t/(x*x)+u*u/(w*w))return!0;break;default:inWorker||console.warn("Drawing command not handled in isPointInPath: "+e[C])}n=q;r=v}return!1},getBounds:function(a){var b=a?this.strokeBounds:
this.bounds;b||(this._calculateBounds(),b=a?this.strokeBounds:this.bounds);return b},_calculateBounds:function(){var a=this.commands,b=this.data,e=a.length,d;d=1===a[0]||7<a[0]?{xMin:b[0],yMin:b[1]}:{xMin:0,yMin:0};d.xMax=d.xMin;d.yMax=d.yMin;for(var j=d.xMin,g=d.yMin,k=0,f=0;k<e;k++){var m,p,s,l;switch(a[k]){case 4:f+=2;case 1:m=b[f++];p=b[f++];extendBoundsByPoint(d,m,p);break;case 5:f+=2;case 2:m=b[f++];p=b[f++];extendBoundsByPoint(d,m,p);break;case 3:s=b[f++];l=b[f++];m=b[f++];p=b[f++];extendBoundsByPoint(d,
m,p);(s<j||s>m)&&extendBoundsByX(d,quadraticBezierExtreme(j,s,m));(l<g||l>p)&&extendBoundsByY(d,quadraticBezierExtreme(g,l,p));break;case 6:s=b[f++];l=b[f++];var n=b[f++],r=b[f++];m=b[f++];p=b[f++];extendBoundsByPoint(d,m,p);if(s<j||n<j||s>m||n>m){j=cubicBezierExtremes(j,s,n,m);for(s=j.length;s--;)extendBoundsByX(d,j[s])}if(l<g||r<g||l>p||r>p){j=cubicBezierExtremes(g,l,r,p);for(s=j.length;s--;)extendBoundsByY(d,j[s])}break;case 7:f+=6;break;case 8:m=b[f++];p=b[f++];g=b[f++];extendBoundsByPoint(d,
m-g,p-g);extendBoundsByPoint(d,m+g,p+g);m+=g;break;case 9:m=b[f++];p=b[f++];g=b[f++];l=b[f++];extendBoundsByPoint(d,m-g,p-l);extendBoundsByPoint(d,m+g,p+l);m+=g;break;default:inWorker||console.warn("Drawing command not handled in bounds calculation: "+a[k])}j=m;g=p}this.bounds=d;return this.lineStyle?(a=this.lineStyle.width/2,this.strokeBounds={xMin:d.xMin-a,yMin:d.yMin-a,xMax:d.xMax+a,yMax:d.yMax+a}):this.strokeBounds=d}};function distanceSq(a,b,e,d){a=e-a;b=d-b;return a*a+b*b}
function intersectsLine(a,b,e,d,j,g){return g>b!==d>b&&a<(e-j)*(b-g)/(d-g)+j}function quadraticBezier(a,b,e,d){var j=1-d;return a*j*j+2*b*j*d+e*d*d}function quadraticBezierExtreme(a,b,e){var d=(a-b)/(a-2*b+e);return 0>d?a:1<d?e:quadraticBezier(a,b,e,d)}function cubicBezier(a,b,e,d,j){var g=j*j,k=1-j,f=k*k;return a*k*f+3*b*j*f+3*e*k*g+d*j*g}
function cubicBezierExtremes(a,b,e,d){var j=b-a,g;g=2*(e-b);var k=d-e;j+k===g&&(k*=1.0001);var f=2*j-g,m=g-2*j,m=Math.sqrt(m*m-4*j*(j-g+k));g=2*(j-g+k);j=(f+m)/g;f=(f-m)/g;m=[];0<=j&&1>=j&&m.push(cubicBezier(a,b,e,d,j));0<=f&&1>=f&&m.push(cubicBezier(a,b,e,d,f));return m}
function cubicXAtY(a,b,e,d,j,g,k,f,m){function p(a){return a*(r+a*(v+a*u))+b-m}function s(b){0>b?b=0:1<b&&(b=1);return a+b*(n+b*(q+b*t))}function l(a,b,d,e){if(!(Math.abs(d-b)<=e)){var f=0.5*(b+d);0>=a(b)*a(d)?(x=b,w=d):(l(a,b,f,e),l(a,f,d,e))}}var n=3*(e-a),r=3*(d-b),q=3*(j-e)-n,v=3*(g-d)-r,t=k-a-n-q,u=f-b-r-v,x=0,w=1;l(p,0,1,0.05);g=findRoot(x,w,p,50,1E-6);if(1E-5<Math.abs(p(g)))return[];e=[];1>=g&&e.push(s(g));d=u;j=g*d+v;k=j*j-4*d*(g*j+r);if(0>k)return e;k=Math.sqrt(k);d=1/(d+d);g=(k-j)*d;d*=
-j-k;0<=g&&1>=g&&e.push(s(g));0<=d&&1>=d&&e.push(s(d));return e}function findRoot(a,b,e,d,j){var g,k,f,m,p,s,l=a;k=e(a);if(0===k)return a;m=e(b);if(0===m)return b;if(0<m*k)return a;for(var n=0,r=0;r<d;++r){n++;g=0.5*(b+a);f=e(g);if(0===f)break;if(Math.abs(g-a)<j)break;0<f*k&&(a=b,b=k,k=m,m=b);b=f-k;s=m-f;p=m-k;if(m*p<2*f*b)b=g,m=f;else{m=(g-a)/b;b=(b-s)/(s*p);b=a-m*k*(1-b*f);m=e(b);if(0===m||Math.abs(b-l)<j)return b;l=b;0>m*k||(a=b,k=m,b=g,m=f)}}return g}
function extendBoundsByPoint(a,b,e){b<a.xMin?a.xMin=b:b>a.xMax&&(a.xMax=b);e<a.yMin?a.yMin=e:e>a.yMax&&(a.yMax=e)}function extendBoundsByX(a,b){b<a.xMin?a.xMin=b:b>a.xMax&&(a.xMax=b)}function extendBoundsByY(a,b){b<a.yMin?a.yMin=b:b>a.yMax&&(a.yMax=b)}function morph(a,b,e){return a+(b-a)*e}
function finishShapePaths(a,b){for(var e=0;e<a.length;e++){var d=a[e];if(!d.fullyInitialized){if(!(d instanceof ShapePath)){var j=d,d=a[e]=new ShapePath(d.fillStyle,d.lineStyle,0,0,d.isMorph);d.commands=j.commands;d.data=j.data;d.morphData=j.morphData}d.fillStyle&&initStyle(d.fillStyle,b);d.lineStyle&&initStyle(d.lineStyle,b);d.fullyInitialized=!0}}}var inWorker="undefined"===typeof window,factoryCtx=!inWorker?document.createElement("canvas").getContext("2d"):null;
function buildLinearGradientFactory(a){for(var b=factoryCtx.createLinearGradient(-1,0,1,0),e=0;e<a.length;e++)b.addColorStop(a[e].ratio,a[e].color);e=function(b,e){for(var g=b.createLinearGradient(-1,0,1,0),k=0;k<a.length;k++)e.addGradientColorStop(g,a[k].ratio,a[k].color);return g};e.defaultGradient=b;return e}
function buildRadialGradientFactory(a,b){for(var e=factoryCtx.createRadialGradient(a,0,0,0,0,1),d=0;d<b.length;d++)e.addColorStop(b[d].ratio,b[d].color);d=function(d,e){for(var k=d.createRadialGradient(a,0,0,0,0,1),f=0;f<b.length;f++)e.addGradientColorStop(k,b[f].ratio,b[f].color);return k};d.defaultGradient=e;return d}
function initStyle(a,b){if(void 0!==a.type)switch(a.type){case 0:break;case 16:case 18:case 19:for(var e=a.records,d=[],j=0,g=e.length;j<g;j++){var k=e[j],f=rgbaObjToStr(k.color);d.push({ratio:k.ratio/255,color:f})}e=16===a.type?buildLinearGradientFactory(d):buildRadialGradientFactory((a.focalPoint|0)/20,d);a.style=e;break;case 64:case 65:case 66:case 67:a.style=factoryCtx.createPattern(b[a.bitmapId].value.props.img,64===a.type||66===a.type?"repeat":"no-repeat");break;default:fail("invalid fill style",
"shape")}}var SOUND_SIZE_8_BIT=0,SOUND_SIZE_16_BIT=1,SOUND_TYPE_MONO=0,SOUND_TYPE_STEREO=1,SOUND_FORMAT_PCM_BE=0,SOUND_FORMAT_ADPCM=1,SOUND_FORMAT_MP3=2,SOUND_FORMAT_PCM_LE=3,SOUND_FORMAT_NELLYMOSER_16=4,SOUND_FORMAT_NELLYMOSER_8=5,SOUND_FORMAT_NELLYMOSER=6,SOUND_FORMAT_SPEEX=11,SOUND_RATES=[5512,11250,22500,44100],WaveHeader=new Uint8Array([82,73,70,70,0,0,0,0,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,0,0,0,0]);
function packageWave(a,b,e,d,j){var g=d>>3,k=e*b*g,g=e*g,f=a.length+(a.length&1),m=new ArrayBuffer(WaveHeader.length+f),p=new Uint8Array(m);p.set(WaveHeader);if(j){j=0;for(var s=WaveHeader.length;j<a.length;j+=2,s+=2)p[s]=a[j+1],p[s+1]=a[j]}else p.set(a,WaveHeader.length);a=new DataView(m);a.setUint32(4,f+36,!0);a.setUint16(22,e,!0);a.setUint32(24,b,!0);a.setUint32(28,k,!0);a.setUint16(32,g,!0);a.setUint16(34,d,!0);a.setUint32(40,f,!0);return{data:p,mimeType:"audio/wav"}}
function defineSound(a){var b=1==a.soundType?2:1,e=a.samplesCount,d=SOUND_RATES[a.soundRate],j=a.soundData,g;switch(a.soundFormat){case 0:g=new Float32Array(e*b);if(1==a.soundSize){for(var k=e=0;e<g.length;e++,k+=2)g[e]=(j[k]<<24|j[k+1]<<16)/2147483648;j=packageWave(j,d,b,16,!0)}else{for(e=0;e<g.length;e++)g[e]=(j[e]-128)/128;j=packageWave(j,d,b,8,!1)}break;case 3:g=new Float32Array(e*b);if(1==a.soundSize){for(k=e=0;e<g.length;e++,k+=2)g[e]=(j[k+1]<<24|j[k]<<16)/2147483648;j=packageWave(j,d,b,16,
!1)}else{for(e=0;e<g.length;e++)g[e]=(j[e]-128)/128;j=packageWave(j,d,b,8,!1)}break;case 2:j={data:new Uint8Array(j.subarray(2)),mimeType:"audio/mpeg"};break;case 1:k=new Int16Array(e*b);decodeACPCMSoundData(j,k,b);g=new Float32Array(e*b);for(e=0;e<g.length;e++)g[e]=k[e]/32768;j=packageWave(new Uint8Array(k.buffer),d,b,16,!(new Uint8Array((new Uint16Array([1])).buffer))[0]);break;default:throw Error("Unsupported audio format: "+a.soundFormat);}a={type:"sound",id:a.id,sampleRate:d,channels:b,pcm:g};
j&&(a.packaged=j);return a}
var ACPCMIndexTables=[[-1,2],[-1,-1,2,4],[-1,-1,-1,-1,2,4,6,8],[-1,-1,-1,-1,-1,-1,-1,-1,1,2,4,6,8,10,13,16]],ACPCMStepSizeTable=[7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767];
function decodeACPCMSoundData(a,b,e){function d(b){for(;k<b;)g=g<<8|a[j++],k+=8;k-=b;return g>>>k&(1<<b)-1}for(var j=0,g=0,k=0,f=0,m=d(2),p=ACPCMIndexTables[m];f<b.length;){var s=b[f++]=d(16)<<16>>16,l,n=d(6),r;1<e&&(l=b[f++]=d(16)<<16>>16,r=d(6));for(var q=1<<m+1,v=0;4095>v;v++){for(var t=d(m+2),u=ACPCMStepSizeTable[n],x=0,w=q>>1;w;w>>=1,u>>=1)t&w&&(x+=u);s+=(t&q?-1:1)*(x+u);b[f++]=s=-32768>s?-32768:32767<s?32767:s;n+=p[t&~q];n=0>n?0:88<n?88:n;if(1<e){t=d(m+2);u=ACPCMStepSizeTable[r];x=0;for(w=q>>
1;w;w>>=1,u>>=1)t&w&&(x+=u);l+=(t&q?-1:1)*(x+u);b[f++]=l=-32768>l?-32768:32767<l?32767:l;r+=p[t&~q];r=0>r?0:88<r?88:r}}}}var nextSoundStreamId=0;function SwfSoundStream(a,b,e){this.streamId=nextSoundStreamId++;this.samplesCount=a;this.sampleRate=b;this.channels=e;this.format=null;this.currentSample=0}
SwfSoundStream.prototype={get info(){return{samplesCount:this.samplesCount,sampleRate:this.sampleRate,channels:this.channels,format:this.format,streamId:this.streamId}},decode:function(){throw Error("SwfSoundStream.decode: not implemented");}};function SwfSoundStream_decode_PCM(a){for(var b=new Float32Array(a.length),e=0;e<b.length;e++)b[e]=(a[e]-128)/128;this.currentSample+=b.length/this.channels;return{streamId:this.streamId,samplesCount:b.length/this.channels,pcm:b}}
function SwfSoundStream_decode_PCM_be(a){for(var b=new Float32Array(a.length/2),e=0,d=0;e<b.length;e++,d+=2)b[e]=(a[d]<<24|a[d+1]<<16)/2147483648;this.currentSample+=b.length/this.channels;return{streamId:this.streamId,samplesCount:b.length/this.channels,pcm:b}}
function SwfSoundStream_decode_PCM_le(a){for(var b=new Float32Array(a.length/2),e=0,d=0;e<b.length;e++,d+=2)b[e]=(a[d+1]<<24|a[d]<<16)/2147483648;this.currentSample+=b.length/this.channels;return{streamId:this.streamId,samplesCount:b.length/this.channels,pcm:b}}function SwfSoundStream_decode_MP3(a){var b=a[1]<<8|a[0],e=a[3]<<8|a[2];this.currentSample+=b;return{streamId:this.streamId,samplesCount:b,data:new Uint8Array(a.subarray(4)),seek:e}}
function createSoundStream(a){var b=new SwfSoundStream(a.samplesCount,SOUND_RATES[a.streamRate],1==a.streamType?2:1);switch(a.streamCompression){case 0:b.format="wave";b.decode=1==a.soundSize?SwfSoundStream_decode_PCM_be:SwfSoundStream_decode_PCM;break;case 3:b.format="wave";b.decode=1==a.soundSize?SwfSoundStream_decode_PCM_le:SwfSoundStream_decode_PCM;break;case 2:b.format="mp3";b.decode=SwfSoundStream_decode_MP3;break;default:throw Error("Unsupported audio format: "+a.soundFormat);}return b}
function defineText(a,b){var e=[];if(a.hasFont){var d=b[a.fontId];a.font=d.uniqueName;e.push(d.id)}d={type:"text",id:a.id,variableName:a.variableName,tag:a};e.length&&(d.require=e);return d}
var $RELEASE=!1,LoaderDefinition=function(){function a(a,d){function e(){var a={},b={type:"frame"},d=0,k=null,f=0;return{onstart:function(a){j({command:"init",result:a})},onprogress:function(e){if(Date.now()-f>1E3/24||e.bytesLoaded===e.bytesTotal)j({command:"progress",result:{bytesLoaded:e.bytesLoaded,bytesTotal:e.bytesTotal}}),f=Date.now();e=e.tags;for(var l=e.length;d<l;d++){var m=e[d];if("id"in m){var n=void 0;switch(m.code){case 6:case 21:case 35:case 90:case 8:n=defineImage(m,g);break;case 20:case 36:n=
defineBitmap(m,g);break;case 7:case 34:n=defineButton(m,g);break;case 37:n=defineText(m,g);break;case 10:case 48:case 75:case 91:n=defineFont(m,g);break;case 46:case 84:case 2:case 22:case 32:case 83:n=defineShape(m,g);break;case 14:n=defineSound(m,g);break;case 87:n={type:"binary",id:m.id,data:m.data};break;case 39:for(var n={},y={type:"frame"},D=[],z=m.tags,J=null,H=0,E=null,F=0,L=z.length;F<L;F++){var I=z[F];switch(I.code){case 12:J||(J=[]);J.push(H);J.push(I.actionsData);break;case 15:(y.startSounds||
(y.startSounds=[])).push(I);break;case 18:try{E=createSoundStream(I),y.soundStream=E.info}catch(G){}break;case 19:E&&(y.soundStreamBlock=E.decode(I.data));break;case 43:y.labelName=I.name;break;case 4:case 26:case 70:n[I.depth]=I;break;case 5:case 28:n[I.depth]=null;break;case 1:for(I=1;F<L-1&&1===z[F+1].code;)F++,I++;H+=I;y.repeat=I;y.depths=n;D.push(y);n={};y={type:"frame"}}}n={type:"sprite",id:m.id,frameCount:m.frameCount,frames:D,frameScripts:J};break;case 11:case 33:n=defineLabel(m,g)}n?(n.isSymbol=
!0,g[m.id]=n,j(n)):j({command:"error",message:"unknown symbol type: "+m.code})}else switch(m.code){case 86:b.sceneData=m;break;case 78:j({isSymbol:!0,id:m.symbolId,updates:{scale9Grid:m.splitter}});break;case 82:case 72:(n=b.abcBlocks)?n.push({data:m.data,flags:m.flags}):b.abcBlocks=[{data:m.data,flags:m.flags}];break;case 12:(n=b.actionBlocks)?n.push(m.actionsData):b.actionBlocks=[m.actionsData];break;case 59:(b.initActionBlocks||(b.initActionBlocks=[])).push({spriteId:m.spriteId,actionsData:m.actionsData});
break;case 15:n=b.startSounds;n||(b.startSounds=n=[]);n.push(m);break;case 18:try{k=createSoundStream(m),b.soundStream=k.info}catch(M){}break;case 19:k&&(b.soundStreamBlock=k.decode(m.data));break;case 76:n=b.exports;b.exports=n?n.concat(m.exports):m.exports.slice(0);break;case 43:b.labelName=m.name;break;case 4:case 26:case 70:a[m.depth]=m;break;case 5:case 28:a[m.depth]=null;break;case 9:b.bgcolor=m.color;break;case 1:for(m=1;d<l;){n=e[d+1];if(!n||1!==n.code)break;d++;m++}b.repeat=m;b.depths=a;
j(b);a={};b={type:"frame"}}}},oncomplete:function(a){j(a);j({command:"complete"})}}}var g={},j;j=a?function(b){return a._commitData(b)}:function(a){self.postMessage(a)};if(b||!flash.net.URLRequest.class.isInstanceOf(d))if(d instanceof ArrayBuffer)SWF.parse(d,e());else if("subscribe"in d){var l=SWF.parseAsync(e());d.subscribe(function(a,b){a?l.push(a,b):l.close()})}else if("undefined"!==typeof FileReaderSync){var n=new FileReaderSync,n=n.readAsArrayBuffer(d);SWF.parse(n,e())}else n=new FileReader,
n.onload=function(){SWF.parse(this.result,e())},n.readAsArrayBuffer(d);else n=FileLoadingService.createSession(),l=SWF.parseAsync(e()),n.onprogress=function(b,d){l.push(b,d);b={command:"progress",result:{bytesLoaded:d.bytesLoaded,bytesTotal:d.bytesTotal}};a._commitData(b)},n.onerror=function(b){a._commitData({command:"error",error:b})},n.onopen=function(){},n.onclose=function(){l.close()},n.open(d._toFileRequest())}var b="undefined"===typeof window;if(b){var e=null;self.onmessage=function(b){e?e.callback(b.data.data,
b.data.progress):"pipe:"===b.data?(e={subscribe:function(a){this.callback=a}},a(null,e)):a(null,b.data)}}else{var d=document.head;d.insertBefore(document.createElement("style"),d.firstChild);var j=document.styleSheets[0],g={__class__:"flash.display.Loader",initialize:function(){this._contentLoaderInfo=new flash.display.LoaderInfo;this._contentLoaderInfo._loader=this;this._dictionary={};this._displayList=null;this._timeline=[];this._worker=this._uncaughtErrorEvents=this._lastPromise=null},_commitData:function(a){switch(a.command){case "init":this._init(a.result);
break;case "progress":this._updateProgress(a.result);break;case "complete":var b=new Promise;avm2.systemDomain.onMessage.register("frameConstructed",function p(a){"frameConstructed"===a&&(b.resolve(),avm2.systemDomain.onMessage.unregister("frameConstructed",p))});Promise.when(b,this._lastPromise).then(function(){this.contentLoaderInfo._dispatchEvent("complete")}.bind(this));this._worker&&this._worker.terminate();break;case "empty":this._lastPromise=new Promise;this._lastPromise.resolve();break;case "error":this.contentLoaderInfo._dispatchEvent("ioError",
flash.events.IOErrorEvent);break;default:if(0===a.id)break;a.isSymbol?this._commitSymbol(a):"frame"===a.type?this._commitFrame(a):"image"===a.type&&this._commitImage(a)}},_updateProgress:function(a){var b=this.contentLoaderInfo;b._bytesLoaded=a.bytesLoaded||0;b._bytesTotal=a.bytesTotal||0;a=new flash.events.ProgressEvent("progress",!1,!1,b._bytesLoaded,b._bytesTotal);b._dispatchEvent(a)},_buildFrame:function(a,b,d,e){var g=this._dictionary,j={},n=[],r=e.depths;if(a)for(var q=a.depths,v=0;v<q.length;v++){var t=
q[v];null!==r[t]&&(j[t]=a[t],n.push(t))}for(t in r)if(q=r[t]){if(q.move){var v=q,q=cloneObject(a[t]),u;for(u in v){var x=v[u];x&&(q[u]=x)}}q.symbolId&&((v=g[q.symbolId])&&!v.resolved&&d.push(v),q=cloneObject(q),q.promise=v);j[t]||n.push(t);j[t]=q}n.sort(sortNumeric);j.depths=n;for(v=e.repeat;v--;)b.push(j);return j},_commitFrame:function(a){var b=a.abcBlocks,d=a.actionBlocks,e=a.initActionBlocks,g=a.exports,j=a.sceneData,n=this,r=n._dictionary,q=n.contentLoaderInfo,v=n._timeline,t=v.length+1,u=new Promise,
x=a.labelName,w=this._lastPromise;this._lastPromise=u;w=[w];this._displayList=this._buildFrame(this._displayList,v,w,a,t);a.bgcolor?q._backgroundColor=a.bgcolor:isNullOrUndefined(q._backgroundColor)&&(q._backgroundColor={red:255,green:255,blue:255,alpha:255});Promise.when.apply(Promise,w).then(function(){if(b&&n._isAvm2Enabled)for(var a=avm2.applicationDomain,d=0,e=b.length;d<e;d++){var k=new AbcFile(b[d].data,"abc_block_"+d);b[d].flags?a.loadAbc(k):a.executeAbc(k)}if(g&&n._isAvm2Enabled){a=[];d=
0;for(e=g.length;d<e;d++){var k=g[d],j=r[k.symbolId];j&&(j.then(function(a,b){return function(){var d=a.value;d.className=b;avm2.applicationDomain.getClass(b).setSymbol(d.props)}}(j,k.className)),a.push(j))}return Promise.when.apply(Promise,a)}}).then(function(){var b=n._content,f;if(b){if(b._framesLoaded+=a.repeat,x&&b._labelMap&&void 0===b._labelMap[x]){b._labelMap[x]=t;for(var w=0,D=b.symbol.scenes.length;w<D;w++)if(G=b.symbol.scenes[w],t>=G._startFrame&&t<=G._endFrame){G.labels.push(new flash.display.FrameLabel(x,
t-G._startFrame));break}}}else{var z=n._parent;!0;b=r[0].value;D=avm2.applicationDomain.getClass(b.className);b=D.createAsSymbol({framesLoaded:v.length,loader:n,parent:z||n,index:z?0:-1,level:z?0:-1,timeline:v,totalFrames:b.props.totalFrames,stage:n._stage});z&&z==n._stage&&0===n._stage._children.length?(z._frameRate=q._frameRate,z._stageHeight=q._height,z._stageWidth=q._width,z._root=b,z._setup()):n._children.push(b);f=b.symbol.labelMap=createEmptyObject();if(j){for(var J=[],H,E=b.symbol.totalFrames-
1,F=j.scenes,L=j.labels,w=F.length;w--;){var I=F[w];H=I.offset;for(var G=[],M=L.length;M--;){var N=L[M];N.frame>=H&&N.frame<=E&&(f[N.name]=N.frame+1,G.unshift(new flash.display.FrameLabel(N.name,N.frame-H+1)))}var G=new flash.display.Scene(I.name,G,E-H+1);G._startFrame=H+1;G._endFrame=E+1;J.unshift(G);E=H-1}b.symbol.scenes=J}else G=[],x&&(f[x]=t,G.push(new flash.display.FrameLabel(x,t))),G=new flash.display.Scene("Scene 1",G,b.symbol.totalFrames),G._endFrame=b.symbol.totalFrames,b.symbol.scenes=[G];
if(!n._isAvm2Enabled){var B=n._avm1Context,w=b;if(z&&z!==n._stage){for(z=z._loader;z._parent&&z._parent!==n._stage;)z=z._parent._loader;w=z._content}z=w._getAS2Object();B.globals.asSetPublicProperty("_root",z);B.globals.asSetPublicProperty("_level0",z);B.globals.asSetPublicProperty("_level1",z);var w=n.loaderInfo._parameters,K;for(K in w)K in z||(z[K]=w[K])}D.instanceConstructor.call(b);n._content=b}a.startSounds&&b._registerStartSounds(t,a.startSounds);a.soundStream&&b._initSoundStream(a.soundStream);
a.soundStreamBlock&&b._addSoundStreamBlock(t,a.soundStreamBlock);if(!n._isAvm2Enabled){B=n._avm1Context;if(e)for(w=0;w<e.length;w++)b.addFrameScript(t-1,function(a,b,d){if(!d.executed)return d.executed=!0,executeActions(a,B,this._getAS2Object(),g)}.bind(b,e[w].actionsData,e[w].spriteId,{executed:!1}));if(d)for(w=0;w<d.length;w++)b.addFrameScript(t-1,function(a){return function(){return executeActions(a,B,this._getAS2Object(),g)}}(d[w]))}1===t&&q._dispatchEvent(new flash.events.Event("init",!1,!1));
u.resolve(a)})},_commitImage:function(a){var b=this,d=this._lastPromise=new Promise,e=new Image;a.props.img=e;e.onload=function(){var e=a.props;e.parent=b._parent;e.stage=b._stage;e.skipCopyToCanvas=!0;var g=avm2.systemDomain.getClass("flash.display.Bitmap"),j=avm2.systemDomain.getClass("flash.display.BitmapData"),e=j.createAsSymbol(e);j.instanceConstructor.call(e,0,0,!0,4294967295);j=g.createAsSymbol(e);b._children.push(j);g.instanceConstructor.call(j,e);j._parent=b;b._content=j;d.resolve(a);b.contentLoaderInfo._dispatchEvent("init")};
e.src=URL.createObjectURL(a.data);delete a.data},_commitSymbol:function(a){var b=this._dictionary;if("updates"in a)b[a.id].then(function(b){for(var d in a.updates)b.props[d]=a.updates[d]});else{var d="flash.display.DisplayObject",e=a.require,g=[],l={symbolId:a.id,loader:this},n=new Promise;if(e&&e.length)for(var r=0,q=e.length;r<q;r++){var v=b[e[r]];v&&!v.resolved&&g.push(v)}switch(a.type){case "button":var q={},t;for(t in a.states){for(var v=[],e={},u=a.states[t],x=Object.keys(u),r=0;r<x.length;r++){var w=
x[r],A=u[w],C=b[A.symbolId];C&&!C.resolved&&g.push(C);v.push(C);e[w]=Object.create(A,{promise:{value:C}})}x.sort(sortNumeric);e.depths=x;r=new Promise;r.resolve({className:"flash.display.Sprite",props:{loader:this,timeline:[e]}});q[t]=r}d="flash.display.SimpleButton";l.states=q;l.buttonActions=a.buttonActions;break;case "font":if(fromCharCode.apply(null,a.codes)&&(j.insertRule('@font-face{font-family:"'+a.uniqueName+'";src:url(data:font/opentype;base64,'+btoa(a.data)+")}",j.cssRules.length),!/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.test(window.navigator.userAgent))){var y=
document.createElement("div");y.setAttribute("style",'position: absolute; top: 0; right: 0;visibility: hidden; z-index: -500;font-family:"'+a.uniqueName+'";');y.textContent="font test";document.body.appendChild(y);var D=new Promise;setTimeout(function(){D.resolve();document.body.removeChild(y)},200);g.push(D)}d="flash.text.Font";l.name=a.name;l.uniqueName=a.uniqueName;l.charset=a.charset;l.metrics=a.metrics;this._registerFont(d,l);break;case "image":var z=new Image,J=new Promise;z.onload=function(){if(a.mask){var b=
document.createElement("canvas");b.width=a.width;b.height=a.height;var d=b.getContext("2d");d.drawImage(z,0,0);for(var e=d.getImageData(0,0,a.width,a.height),f=e.data,g=a.mask,j=e.width*e.height,m=0,n=3;m<j;m++,n+=4)f[n]=g[m];d.putImageData(e,0,0);l.img=b}J.resolve()};z.src=URL.createObjectURL(a.data);g.push(J);d="flash.display.Bitmap";l.img=z;l.width=a.width;l.height=a.height;break;case "label":r=new Function("c,r,ct",a.data);d="flash.text.StaticText";l.bbox=a.bbox;l.draw=r;break;case "text":l.bbox=
a.bbox;l.html=a.html;"label"===a.type?d="flash.text.StaticText":(d="flash.text.TextField",l.tag=a.tag,l.variableName=a.variableName);break;case "shape":d=a.morph?"flash.display.MorphShape":"flash.display.Shape";l.bbox=a.bbox;l.strokeBbox=a.strokeBbox;l.paths=a.paths;l.dictionary=b;break;case "sound":if(!a.pcm&&!PLAY_USING_AUDIO_TAG){var H=new Promise;MP3DecoderSession.processAll(a.packaged.data,function(a,b,d,e){a.pcm=b||new Uint8Array(0);H.resolve();e&&console.error("ERROR: "+e)}.bind(null,l));g.push(H)}d=
"flash.media.Sound";l.sampleRate=a.sampleRate;l.channels=a.channels;l.pcm=a.pcm;l.packaged=a.packaged;break;case "binary":l.data=a.data;break;case "sprite":e=null;t=a.frameCount;v={};u=1;A=a.frames;x=[];w=[];r=0;for(q=A.length;r<q;r++){C=A[r];u=x.length+1;C.labelName&&(v[C.labelName]=u);if(C.startSounds){w[u]=C.startSounds;for(var E=0;E<C.startSounds.length;E++){var F=b[C.startSounds[E].soundId];F&&!F.resolved&&g.push(F)}}e=this._buildFrame(e,x,g,C,u)}e={};if(!this._isAvm2Enabled&&a.frameScripts){q=
a.frameScripts;for(r=0;r<q.length;r+=2)u=q[r]+1,A=function(a,b){return function(){return executeActions(a,b._avm1Context,this._getAS2Object())}}(q[r+1],this),e[u]?e[u].push(A):e[u]=[A]}d="flash.display.MovieClip";l.timeline=x;l.framesLoaded=t;l.labelMap=v;l.frameScripts=e;l.totalFrames=t;l.startSoundRegistrations=w}b[a.id]=n;Promise.when.apply(Promise,g).then(function(){n.resolve({className:d,props:l})})}},_registerFont:function(a,b){this._vmPromise.then(function(){var d=avm2.applicationDomain.getClass(a),
e=d.createAsSymbol(b);d.instanceConstructor.call(e)})},_init:function(a){var b=this.contentLoaderInfo;b._swfVersion=a.swfVersion;var d=a.bbox;b._width=d.xMax-d.xMin;b._height=d.yMax-d.yMin;b._frameRate=a.frameRate;var e=new Promise,b=new Promise;b.then(function(){e.resolve({className:"flash.display.MovieClip",props:{totalFrames:a.frameCount}})});this._lastPromise=this._dictionary[0]=e;this._vmPromise=b;this._isAvm2Enabled=a.fileAttributes.doAbc;this._setup()},_load:function(d){if(b)a(this,d);else{var e=
this,g=e._worker=new Worker(SHUMWAY_ROOT+"shumway-worker.js");g.onmessage=function(a){e._commitData(a.data)};if(flash.net.URLRequest.class.isInstanceOf(d)){var j=FileLoadingService.createSession();j.onprogress=function(a,b){g.postMessage({data:a,progress:b})};j.onerror=function(a){e._commitData({command:"error",error:a})};j.onopen=function(){g.postMessage("pipe:")};j.onclose=function(){g.postMessage({data:null})};j.open(d._toFileRequest())}else g.postMessage(d)}},_setup:function(){var a=this,b=a._stage;
if(a._isAvm2Enabled)avm2.systemDomain.getClass("flash.ui.Mouse")._stage=b,a._vmPromise.resolve();else if(avm2.loadAVM1){var d=function(){var d=new AS2Context(a.contentLoaderInfo._swfVersion);d.stage=b;a._avm1Context=d;avm1lib.AS2Key.class.$bind(b);avm1lib.AS2Mouse.class.$bind(b);b._addEventListener("frameConstructed",d.flushPendingScripts.bind(d),!1,Number.MAX_VALUE);a._vmPromise.resolve()};avm2.isAVM1Loaded?d():(avm2.isAVM1Loaded=!0,avm2.loadAVM1(d))}else a._vmPromise.reject("AVM1 loader is not found")},
get contentLoaderInfo(){return this._contentLoaderInfo},get content(){somewhatImplemented("Loader.content");return this._content}};g.__glue__={"native":{instance:{content:Object.getOwnPropertyDescriptor(g,"content"),contentLoaderInfo:Object.getOwnPropertyDescriptor(g,"contentLoaderInfo"),_getJPEGLoaderContextdeblockingfilter:function(){return 0},_load:g._load,_loadBytes:function(a){g._load(a.a)},_unload:function(){notImplemented("Loader._unload")},_close:function(){somewhatImplemented("Loader._close")},
_getUncaughtErrorEvents:function(){somewhatImplemented("Loader._getUncaughtErrorEvents");return this._uncaughtErrorEvents},_setUncaughtErrorEvents:function(a){somewhatImplemented("Loader._setUncaughtErrorEvents");this._uncaughtErrorEvents=a}}}};return g}}.call(this);
for(var r=void 0,v=!0,x=!1,aa=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],y=[],A=[],i=0,B=0,C=1;30>i;++i)y[i]=C,C+=1<<(A[i]=~~((B+=2<i?1:0)/2));for(var D=[],i=0;32>i;++i)D[i]=5;for(var ba=E(D),ca=[],da=[],B=i=0,C=3;29>i;++i)ca[i]=C-(28==i?1:0),C+=1<<(da[i]=~~((B+=4<i?1:0)/4%6));for(i=0;288>i;++i)D[i]=144>i||279<i?8:256>i?9:7;var ea=E(D);
function E(b){for(var a=max.apply(null,b),c=b.length,d=1<<a,e=new Uint32Array(d),g=0,f=1,h=2;f<=a;g<<=1,++f,h<<=1)for(var j=0;j<c;++j)if(b[j]===f){for(var k=0,m=0;m<f;++m)k=2*k+(g>>m&1);for(m=k;m<d;m+=h)e[m]=f<<16|j;++g}return{codes:e,v:a}}var G={};
function fa(b,a,c){var d=c.m!==r?c.m:c.m=H(b.bytes,b,3);switch(d>>1){case 0:b.align();var e=b.pos;if(4>b.end-e)throw G;var g=b.getUint16(e,v);b.getUint16(e+2,v);if(b.end-e<4+g)throw G;var f=e+4,h=b.pos=f+g,e=b.bytes;splice.apply(a.data,[a.g,g].concat(slice.call(e,f,h)));a.g+=g;break;case 1:ga(b,a,ea,ba,c);break;case 2:if(c.l!==r)e=c.l,g=c.r;else{var e=b.bytes,f=b.pos,h=b.bitBuffer,j=b.bitLength,g=[],k,m;try{k=H(e,b,5)+257;m=H(e,b,5)+1;for(var l=k+m,q=H(e,b,4)+4,p=0;19>p;++p)g[aa[p]]=p<q?H(e,b,3):
0;for(var s=E(g),g=[],q=p=0;p<l;){var n=1,t=I(e,b,s);switch(t){case 16:n=H(e,b,2)+3;t=q;break;case 17:n=H(e,b,3)+3;t=0;break;case 18:n=H(e,b,7)+11;t=0;break;default:q=t}for(;n--;)g[p++]=t}}catch(u){throw b.pos=f,b.bitBuffer=h,b.bitLength=j,u;}e=c.l=E(g.splice(k,m));g=c.r=E(g)}ga(b,a,g,e,c);delete c.l;delete c.r;break;default:fail("unknown block type","inflate")}delete c.m;a.j=!!(d&1)}
function H(b,a,c){var d=a.bitBuffer,e=a.bitLength;if(c>e){var g=a.pos,f=a.end;do{if(g>=f)throw a.pos=g,a.bitBuffer=d,a.bitLength=e,G;d|=b[g++]<<e;e+=8}while(c>e);a.pos=g}a.bitBuffer=d>>>c;a.bitLength=e-c;return d&(1<<c)-1}
function ga(b,a,c,d,e){for(var g=a.g,f=a.data,h=b.bytes,j=e.o!==r?e.o:I(h,b,c);256!==j;){if(256>j)f[g++]=j;else{e.o=j;for(var j=j-257,j=e.n!==r?e.n:e.n=ca[j]+H(h,b,da[j]),k=e.p!==r?e.p:e.p=I(h,b,d),k=y[k]+H(h,b,A[k]),k=g-k;j--;)f[g++]=f[k++];delete e.p;delete e.n;delete e.o}a.g=g;j=I(h,b,c)}}
function I(b,a,c){var d=a.bitBuffer,e=a.bitLength,g=c.v;if(g>e){var f=a.pos,h=a.end;do{if(f>=h)throw a.pos=f,a.bitBuffer=d,a.bitLength=e,G;d|=b[f++]<<e;e+=8}while(g>e);a.pos=f}b=c.codes[d&(1<<g)-1];c=b>>16;a.bitBuffer=d>>>c;a.bitLength=e-c;return b&65535}this.createInflatedStream=function(b,a){var c=new K(b,2),d={data:new Uint8Array(a),g:0,j:x},e={};do fa(c,d,e);while(!d.j&&c.pos<c.end);return new K(d.data,0,d.g)};var ha={},K;function ia(){this.bitBuffer=this.bitLength=0}
function ja(b){if(this.pos+b>this.end)throw ha;}function ka(){return this.end-this.pos}function la(b,a){var c=new na(this.bytes);c.pos=b;c.end=a;return c}function oa(b){var a=this.bytes,c=this.end+b.length;if(c>a.length)throw"stream buffer overfow";a.set(b,this.end);this.end=c}
function na(b,a,c,d){a===r&&(a=0);b.buffer instanceof ArrayBuffer&&(a+=b.byteOffset,b=b.buffer);c===r&&(c=b.byteLength-a);d===r&&(d=c);var e=new Uint8Array(b,a,d);b=new DataView(b,a,d);b.bytes=e;b.pos=0;b.end=c;b.bitBuffer=0;b.bitLength=0;b.align=ia;b.ensure=ja;b.remaining=ka;b.substream=la;b.push=oa;return b}this.Stream=K=na;function readSi8(b,a){return a.getInt8(a.pos++)}function readSi16(b,a){return a.getInt16(a.pos,a.pos+=2)}function readUi8(b,a){return b[a.pos++]}
function readUi16(b,a){return a.getUint16(a.pos,a.pos+=2)}function readUi32(b,a){return a.getUint32(a.pos,a.pos+=4)}function readFixed(b,a){return a.getInt32(a.pos,a.pos+=4)/65536}function readFixed8(b,a){return a.getInt16(a.pos,a.pos+=2)/256}function readFloat(b,a){return a.getFloat32(a.pos,a.pos+=4)}
function readEncodedU32(b,a){var c=b[a.pos++];if(!(c&128))return c;c|=b[a.pos++]<<7;if(!(c&16384))return c;c|=b[a.pos++]<<14;if(!(c&2097152))return c;c|=b[a.pos++]<<21;return!(c&268435456)?c:c|b[a.pos++]<<28}function readSb(b,a,c){return readUb(b,a,c)<<32-c>>32-c}for(var pa=new Uint32Array(33),i=1,qa=0;32>=i;++i)pa[i]=qa=qa<<1|1;function readUb(b,a,c){for(var d=a.bitBuffer,e=a.bitLength;c>e;)d=d<<8|b[a.pos++],e+=8;e-=c;b=d>>>e&pa[c];a.bitBuffer=d;a.bitLength=e;return b}
function readString(b,a,c){var d=[],e=a.pos;if(c)d=slice.call(b,e,e+=c);else{c=0;for(var g;g=b[e++];c++)d[c]=g}a.pos=e;b=c/65536;a="";for(c=0;c<b;++c)e=65536*c,e=d.slice(e,e+65536),a+=fromCharCode.apply(null,e);return decodeURIComponent(escape(a.replace("\x00","","g")))}function readBinary(b,a,c){return b.subarray(a.pos,a.pos=c?a.pos+c:a.end)}this.readSi8=readSi8;this.readUi16=readUi16;this.readUi32=readUi32;var L;
function M(b,a,c,d,e){c||(c={});c.id=readUi16(b,a);d=c.bbox={};N(b,a,d);if(d=c.isMorph=46===e||84===e){var g=c.bboxMorph={};N(b,a,g)}if(g=c.hasStrokes=83===e||84===e){var f=c.strokeBbox={};N(b,a,f);d&&(f=c.strokeBboxMorph={},N(b,a,f));readUb(b,a,5);c.fillWinding=readUb(b,a,1);c.nonScalingStrokes=readUb(b,a,1);c.scalingStrokes=readUb(b,a,1)}if(d){c.offsetMorph=readUi32(b,a);var h=c,j,k,f=O(b,a,h,e,d,g),m=f.f,l=f.e,q=h.records=[];do{var p={},f=P(b,a,p,e,d,l,m,g,k);j=f.eos;l=f.e;m=f.f;k=f.k;q.push(p)}while(!j);
f=Q(b,a);l=f.e;m=f.f;h=h.recordsMorph=[];do q={},f=P(b,a,q,e,d,l,m,g,k),j=f.eos,l=f.e,m=f.f,k=f.k,h.push(q);while(!j)}else{l=c;k=O(b,a,l,e,d,g);f=k.e;m=k.f;h=l.records=[];do q={},k=P(b,a,q,e,d,f,m,g,j),l=k.eos,f=k.e,m=k.f,j=k.k,h.push(q);while(!l)}return c}
function R(b,a,c,d,e){var g,f,h,j,k,m,l,q,p,s,n,t,u;c||(c={});if(4<e){g=26<e?readUi16(b,a):readUi8(b,a);f=c.hasEvents=g>>7&1;h=c.clip=g>>6&1;j=c.hasName=g>>5&1;k=c.hasRatio=g>>4&1;m=c.hasCxform=g>>3&1;l=c.hasMatrix=g>>2&1;q=c.place=g>>1&1;c.move=g&1;70===e?(p=c.hasBackgroundColor=g>>15&1,s=c.hasVisibility=g>>14&1,c.hasImage=g>>12&1,n=c.hasClassName=g>>11&1,t=c.cache=g>>10&1,u=c.blend=g>>9&1,g=c.hasFilters=g>>8&1):(t=c.cache=0,u=c.blend=0,g=c.hasFilters=0);c.depth=readUi16(b,a);n&&(c.className=readString(b,
a,0));q&&(c.symbolId=readUi16(b,a));l&&(l=c.matrix={},S(b,a,l));m&&(m=c.cxform={},T(b,a,m,e));k&&(c.ratio=readUi16(b,a));j&&(c.name=readString(b,a,0));h&&(c.clipDepth=readUi16(b,a));if(g){h=readUi8(b,a);for(e=c.filters=[];h--;)j={},ra(b,a,j),e.push(j)}u&&(c.blendMode=readUi8(b,a));t&&(c.bmpCache=readUi8(b,a));if(f){readUi16(b,a);6<=d?readUi32(b,a):readUi16(b,a);f=c.events=[];do t={},u=b,e=a,h=t,m=d,j=g=r,g=6<=m?readUi32(u,e):readUi16(u,e),k=h.eoe=!g,h.onKeyUp=g>>7&1,h.onKeyDown=g>>6&1,h.onMouseUp=
g>>5&1,h.onMouseDown=g>>4&1,h.onMouseMove=g>>3&1,h.onUnload=g>>2&1,h.onEnterFrame=g>>1&1,h.onLoad=g&1,6<=m&&(h.onDragOver=g>>15&1,h.onRollOut=g>>14&1,h.onRollOver=g>>13&1,h.onReleaseOutside=g>>12&1,h.onRelease=g>>11&1,h.onPress=g>>10&1,h.onInitialize=g>>9&1,h.onData=g>>8&1,h.onConstruct=7<=m?g>>18&1:0,j=h.keyPress=g>>17&1,h.onDragOut=g>>16&1),k||(m=h.length=readUi32(u,e),j&&(h.keyCode=readUi8(u,e)),h.actionsData=readBinary(u,e,m-(j?1:0))),u=k,f.push(t);while(!u)}p&&(d=c.backgroundColor={},d.alpha=
readUi8(b,a),d.red=readUi8(b,a),d.green=readUi8(b,a),d.blue=readUi8(b,a));s&&(c.visibility=readUi8(b,a))}else c.place=1,c.symbolId=readUi16(b,a),c.depth=readUi16(b,a),c.hasMatrix=1,s=c.matrix={},S(b,a,s),a.remaining()&&(c.hasCxform=1,s=c.cxform={},T(b,a,s,e));return c}function sa(b,a,c,d,e){c||(c={});5===e&&(c.symbolId=readUi16(b,a));c.depth=readUi16(b,a);return c}
function U(b,a,c,d,e){c||(c={});c.id=readUi16(b,a);21<e?(d=readUi32(b,a),90===e&&(c.deblock=readFixed8(b,a)),d=c.imgData=readBinary(b,a,d),c.alphaData=readBinary(b,a,0)):d=c.imgData=readBinary(b,a,0);switch(d[0]<<8|d[1]){case 65496:case 65497:c.mimeType="image/jpeg";break;case 35152:c.mimeType="image/png";break;case 18249:c.mimeType="image/gif";break;default:c.mimeType="application/octet-stream"}6===e&&(c.incomplete=1);return c}
function ta(b,a,c,d,e){var g,f,h,j;c||(c={});c.id=readUi16(b,a);if(7==e){j=c.characters=[];do{var k={};g=b;var m=a,l=k,q=d;h=e;var p=r;f=r;var s=readUi8(g,m),n=l.eob=!s;8<=q?(f=l.blend=s>>5&1,p=l.hasFilters=s>>4&1):(f=l.blend=0,p=l.hasFilters=0);l.stateHitTest=s>>3&1;l.stateDown=s>>2&1;l.stateOver=s>>1&1;l.stateUp=s&1;n||(l.symbolId=readUi16(g,m),l.depth=readUi16(g,m),q=l.matrix={},S(g,m,q),34===h&&(q=l.cxform={},T(g,m,q,h)),p&&(l.filterCount=readUi8(g,m),h=l.filters={},ra(g,m,h)),f&&(l.blendMode=
readUi8(g,m)));g=n;j.push(k)}while(!g);c.actionsData=readBinary(b,a,0)}else{g=readUi8(b,a);c.trackAsMenu=g>>7&1;k=readUi16(b,a);m=c.characters=[];do{l={};n=readUi8(b,a);g=l.eob=!n;8<=d?(j=l.blend=n>>5&1,f=l.hasFilters=n>>4&1):(j=l.blend=0,f=l.hasFilters=0);l.stateHitTest=n>>3&1;l.stateDown=n>>2&1;l.stateOver=n>>1&1;l.stateUp=n&1;if(!g){l.symbolId=readUi16(b,a);l.depth=readUi16(b,a);n=l.matrix={};S(b,a,n);34===e&&(n=l.cxform={},T(b,a,n,e));if(f)switch(l.filterCount=readUi8(b,a),f=l.filters={},n=f.type=
readUi8(b,a),n){case 0:h=4===n||7===n?readUi8(b,a):1;p=f.colors=[];for(q=h;q--;)s={},V(b,a,s),p.push(s);3===n&&(p=f.higlightColor={},V(b,a,p));if(4===n||7===n)for(p=f.ratios=[];h--;)p.push(readUi8(b,a));f.blurX=readFixed(b,a);f.blurY=readFixed(b,a);2!==n&&(f.angle=readFixed(b,a),f.distance=readFixed(b,a));f.strength=readFixed8(b,a);f.innerShadow=readUb(b,a,1);f.knockout=readUb(b,a,1);f.compositeSource=readUb(b,a,1);3===n?f.onTop=readUb(b,a,1):readUb(b,a,1);4===n||7===n?f.passes=readUb(b,a,4):readUb(b,
a,4);break;case 1:f.blurX=readFixed(b,a);f.blurY=readFixed(b,a);f.passes=readUb(b,a,5);readUb(b,a,3);break;case 2:case 3:case 4:h=4===n||7===n?readUi8(b,a):1;p=f.colors=[];for(q=h;q--;)s={},V(b,a,s),p.push(s);3===n&&(p=f.higlightColor={},V(b,a,p));if(4===n||7===n)for(p=f.ratios=[];h--;)p.push(readUi8(b,a));f.blurX=readFixed(b,a);f.blurY=readFixed(b,a);2!==n&&(f.angle=readFixed(b,a),f.distance=readFixed(b,a));f.strength=readFixed8(b,a);f.innerShadow=readUb(b,a,1);f.knockout=readUb(b,a,1);f.compositeSource=
readUb(b,a,1);3===n?f.onTop=readUb(b,a,1):readUb(b,a,1);4===n||7===n?f.passes=readUb(b,a,4):readUb(b,a,4);break;case 5:h=f.columns=readUi8(b,a);p=f.rows=readUi8(b,a);f.divisor=readFloat(b,a);f.bias=readFloat(b,a);n=f.weights=[];for(h*=p;h--;)n.push(readFloat(b,a));n=f.defaultColor={};V(b,a,n);readUb(b,a,6);f.clamp=readUb(b,a,1);f.preserveAlpha=readUb(b,a,1);break;case 6:f=f.matrix=[];for(n=20;n--;)f.push(readFloat(b,a));break;case 7:h=4===n||7===n?readUi8(b,a):1;p=f.colors=[];for(q=h;q--;)s={},V(b,
a,s),p.push(s);3===n&&(p=f.higlightColor={},V(b,a,p));if(4===n||7===n)for(p=f.ratios=[];h--;)p.push(readUi8(b,a));f.blurX=readFixed(b,a);f.blurY=readFixed(b,a);2!==n&&(f.angle=readFixed(b,a),f.distance=readFixed(b,a));f.strength=readFixed8(b,a);f.innerShadow=readUb(b,a,1);f.knockout=readUb(b,a,1);f.compositeSource=readUb(b,a,1);3===n?f.onTop=readUb(b,a,1):readUb(b,a,1);4===n||7===n?f.passes=readUb(b,a,4):readUb(b,a,4)}j&&(l.blendMode=readUi8(b,a))}m.push(l)}while(!g);if(k){d=c.buttonActions=[];do e=
{},g=b,j=a,k=e,m=readUi16(g,j),l=readUi16(g,j),k.idleToOverDown=l>>7&1,k.outDownToIdle=l>>6&1,k.outDownToOverDown=l>>5&1,k.overDownToOutDown=l>>4&1,k.overDownToOverUp=l>>3&1,k.overUpToOverDown=l>>2&1,k.overUpToIdle=l>>1&1,k.idleToOverUp=l&1,k.mouseEventFlags=l&511,k.keyPress=l>>9&127,k.overDownToIdle=l>>8&1,k.actionsData=m?readBinary(g,j,m-4):readBinary(g,j,0),d.push(e);while(0<a.remaining())}}return c}
function ua(b,a,c,d,e){var g;c||(c={});c.id=readUi16(b,a);var f=c.bbox={};N(b,a,f);f=c.matrix={};S(b,a,f);var f=c.glyphBits=readUi8(b,a),h=c.advanceBits=readUi8(b,a),j=c.records=[];do{var k={};g=b;var m=a,l=k,q=d,p=e,s=f,n=h,t=r;m.align();var u=readUb(g,m,8),ma=l.eot=!u,t=g,z=m,w=l,J=p,F=u,p=w.hasFont=F>>3&1,Ha=w.hasColor=F>>2&1,u=w.hasMoveY=F>>1&1,F=w.hasMoveX=F&1;p&&(w.fontId=readUi16(t,z));Ha&&(33===J?(J=w.color={},V(t,z,J)):(J=w.color={},W(t,z,J)));F&&(w.moveX=readSi16(t,z));u&&(w.moveY=readSi16(t,
z));p&&(w.fontHeight=readUi16(t,z));if(!ma){t=readUi8(g,m);t=6<q?l.glyphCount=t:l.glyphCount=t&127;l=l.entries=[];for(q=t;q--;)t={},z=g,w=m,p=t,u=n,p.glyphIndex=readUb(z,w,s),p.advance=readSb(z,w,u),l.push(t)}g=ma;j.push(k)}while(!g);return c}function va(b,a,c,d,e){c||(c={});59===e&&(c.spriteId=readUi16(b,a));c.actionsData=readBinary(b,a,0);return c}
function wa(b,a,c,d,e){c||(c={});15==e&&(c.soundId=readUi16(b,a));89==e&&(c.soundClassName=readString(b,a,0));d=c.soundInfo={};readUb(b,a,2);d.stop=readUb(b,a,1);d.noMultiple=readUb(b,a,1);e=d.hasEnvelope=readUb(b,a,1);var g=d.hasLoops=readUb(b,a,1),f=d.hasOutPoint=readUb(b,a,1);if(d.hasInPoint=readUb(b,a,1))d.inPoint=readUi32(b,a);f&&(d.outPoint=readUi32(b,a));g&&(d.loopCount=readUi16(b,a));if(e){e=d.envelopeCount=readUi8(b,a);for(d=d.envelopes=[];e--;){var g={},f=b,h=a,j=g;j.pos44=readUi32(f,h);
j.volumeLeft=readUi16(f,h);j.volumeRight=readUi16(f,h);d.push(g)}}return c}function xa(b,a,c){c||(c={});var d=readUi8(b,a);c.playbackRate=d>>2&3;c.playbackSize=d>>1&1;c.playbackType=d&1;var d=readUi8(b,a),e=c.streamCompression=d>>4&15;c.streamRate=d>>2&3;c.streamSize=d>>1&1;c.streamType=d&1;c.samplesCount=readUi32(b,a);2==e&&(c.latencySeek=readSi16(b,a));return c}
function ya(b,a,c,d,e){c||(c={});c.id=readUi16(b,a);d=c.format=readUi8(b,a);c.width=readUi16(b,a);c.height=readUi16(b,a);c.hasAlpha=36===e;3===d&&(c.colorTableSize=readUi8(b,a));c.bmpData=readBinary(b,a,0);return c}
function za(b,a,c,d,e){c||(c={});c.id=readUi16(b,a);var g=c.hasLayout=readUb(b,a,1);5<d?c.shiftJis=readUb(b,a,1):readUb(b,a,1);c.smallText=readUb(b,a,1);c.ansi=readUb(b,a,1);var f=c.wideOffset=readUb(b,a,1),h=c.wide=readUb(b,a,1);c.italic=readUb(b,a,1);c.bold=readUb(b,a,1);5<d?c.language=readUi8(b,a):(readUi8(b,a),c.language=0);d=readUi8(b,a);c.name=readString(b,a,d);75===e&&(c.resolution=20);d=c.glyphCount=readUi16(b,a);if(f){for(var f=c.offsets=[],j=d;j--;)f.push(readUi32(b,a));c.mapOffset=readUi32(b,
a)}else{f=c.offsets=[];for(j=d;j--;)f.push(readUi16(b,a));c.mapOffset=readUi16(b,a)}f=c.glyphs=[];for(j=d;j--;){var k={};Aa(b,a,k,e);f.push(k)}if(h){e=c.codes=[];for(f=d;f--;)e.push(readUi16(b,a))}else{e=c.codes=[];for(f=d;f--;)e.push(readUi8(b,a))}if(g){c.ascent=readUi16(b,a);c.descent=readUi16(b,a);c.leading=readSi16(b,a);g=c.advance=[];for(e=d;e--;)g.push(readSi16(b,a));for(g=c.bbox=[];d--;)e={},N(b,a,e),g.push(e);g=readUi16(b,a);for(d=c.kerning=[];g--;)e={},f=b,j=a,k=e,h?(k.code1=readUi16(f,j),
k.code2=readUi16(f,j)):(k.code1=readUi8(f,j),k.code2=readUi8(f,j)),k.adjustment=readUi16(f,j),d.push(e)}return c}function Ba(b,a,c,d,e){c||(c={});c.flags=82===e?readUi32(b,a):0;c.name=82===e?readString(b,a,0):"";c.data=readBinary(b,a,0);return c}function N(b,a,c){a.align();var d=readUb(b,a,5),e=readSb(b,a,d),g=readSb(b,a,d),f=readSb(b,a,d);b=readSb(b,a,d);c.xMin=e;c.xMax=g;c.yMin=f;c.yMax=b;a.align()}function W(b,a,c){c.red=readUi8(b,a);c.green=readUi8(b,a);c.blue=readUi8(b,a);c.alpha=255}
function V(b,a,c){c.red=readUi8(b,a);c.green=readUi8(b,a);c.blue=readUi8(b,a);c.alpha=readUi8(b,a)}function S(b,a,c){a.align();if(readUb(b,a,1)){var d=readUb(b,a,5);c.a=readSb(b,a,d)/65536;c.d=readSb(b,a,d)/65536}else c.a=1,c.d=1;readUb(b,a,1)?(d=readUb(b,a,5),c.b=readSb(b,a,d)/65536,c.c=readSb(b,a,d)/65536):(c.b=0,c.c=0);var d=readUb(b,a,5),e=readSb(b,a,d);b=readSb(b,a,d);c.tx=e;c.ty=b;a.align()}
function T(b,a,c,d){a.align();var e=readUb(b,a,1),g=readUb(b,a,1),f=readUb(b,a,4);g?(c.redMultiplier=readSb(b,a,f),c.greenMultiplier=readSb(b,a,f),c.blueMultiplier=readSb(b,a,f),c.alphaMultiplier=4<d?readSb(b,a,f):256):(c.redMultiplier=256,c.greenMultiplier=256,c.blueMultiplier=256,c.alphaMultiplier=256);e?(c.redOffset=readSb(b,a,f),c.greenOffset=readSb(b,a,f),c.blueOffset=readSb(b,a,f),c.alphaOffset=4<d?readSb(b,a,f):0):(c.redOffset=0,c.greenOffset=0,c.blueOffset=0,c.alphaOffset=0);a.align()}
function P(b,a,c,d,e,g,f,h,j){var k=c.type=readUb(b,a,1),m=readUb(b,a,5),l=c.eos=!(k||m);if(k)d=j,e=e=e=0,e=c.isStraight=m>>4,d=(m&15)+2,e?(e=c.isGeneral=readUb(b,a,1))?(c.deltaX=readSb(b,a,d),c.deltaY=readSb(b,a,d)):(e=c.isVertical=readUb(b,a,1))?c.deltaY=readSb(b,a,d):c.deltaX=readSb(b,a,d):(c.controlDeltaX=readSb(b,a,d),c.controlDeltaY=readSb(b,a,d),c.anchorDeltaX=readSb(b,a,d),c.anchorDeltaY=readSb(b,a,d)),b=d;else{var q=0,p=0,s=0,n=0,t=0,q=2<d?c.hasNewStyles=m>>4:c.hasNewStyles=0,p=c.hasLineStyle=
m>>3&1,s=c.hasFillStyle1=m>>2&1,n=c.hasFillStyle0=m>>1&1;if(t=c.move=m&1)j=readUb(b,a,5),c.moveX=readSb(b,a,j),c.moveY=readSb(b,a,j);n&&(c.fillStyle0=readUb(b,a,g));s&&(c.fillStyle1=readUb(b,a,g));p&&(c.lineStyle=readUb(b,a,f));q&&(b=O(b,a,c,d,e,h),f=b.f,g=b.e);b=j}return{type:k,flags:m,eos:l,e:g,f:f,k:b}}
function O(b,a,c,d,e,g){var f,h=readUi8(b,a);f=2<d&&255===h?readUi16(b,a):h;for(h=c.fillStyles=[];f--;){var j={};Ca(b,a,j,d,e);h.push(j)}h=readUi8(b,a);h=2<d&&255===h?readUi16(b,a):h;for(c=c.lineStyles=[];h--;){f={};var j=b,k=a,m=f,l=d,q=e,p=g;m.width=readUi16(j,k);q&&(m.widthMorph=readUi16(j,k));if(p){k.align();m.startCapStyle=readUb(j,k,2);var p=m.joinStyle=readUb(j,k,2),s=m.hasFill=readUb(j,k,1);m.noHscale=readUb(j,k,1);m.noVscale=readUb(j,k,1);m.pixelHinting=readUb(j,k,1);readUb(j,k,5);m.noClose=
readUb(j,k,1);m.endCapStyle=readUb(j,k,2);2===p&&(m.miterLimitFactor=readFixed8(j,k));s?(m=m.fillStyle={},Ca(j,k,m,l,q)):(l=m.color={},V(j,k,l),q&&(q=m.colorMorph={},V(j,k,q)))}else 22<l?(l=m.color={},V(j,k,l)):(l=m.color={},W(j,k,l)),q&&(q=m.colorMorph={},V(j,k,q));c.push(f)}b=Q(b,a);return{e:b.e,f:b.f}}function Q(b,a){a.align();var c=readUb(b,a,4),d=readUb(b,a,4);return{e:c,f:d}}
function Ca(b,a,c,d,e){var g=c.type=readUi8(b,a);switch(g){case 0:22<d||e?(g=c.color={},V(b,a,g)):(g=c.color={},W(b,a,g));e&&(c=c.colorMorph={},V(b,a,c));break;case 16:case 18:case 19:var f=c.matrix={};S(b,a,f);e&&(f=c.matrixMorph={},S(b,a,f));83===d?(c.spreadMode=readUb(b,a,2),c.interpolationMode=readUb(b,a,2)):readUb(b,a,4);for(var h=c.count=readUb(b,a,4),f=c.records=[];h--;){var j={},k=b,m=a,l=j,q=d,p=e;l.ratio=readUi8(k,m);22<q?(q=l.color={},V(k,m,q)):(q=l.color={},W(k,m,q));p&&(l.ratioMorph=
readUi8(k,m),l=l.colorMorph={},V(k,m,l));f.push(j)}19===g&&(c.focalPoint=readFixed8(b,a),e&&(c.focalPointMorph=readFixed8(b,a)));break;case 64:case 65:case 66:case 67:c.bitmapId=readUi16(b,a),d=c.matrix={},S(b,a,d),e&&(e=c.matrixMorph={},S(b,a,e)),c.condition=64===g||67===g}}
function ra(b,a,c){var d=c.type=readUi8(b,a);switch(d){case 0:case 2:case 3:case 4:case 7:var e;e=4===d||7===d?readUi8(b,a):1;for(var g=c.colors=[],f=e;f--;){var h={};V(b,a,h);g.push(h)}3===d&&(g=c.higlightColor={},V(b,a,g));if(4===d||7===d)for(g=c.ratios=[];e--;)g.push(readUi8(b,a));c.blurX=readFixed(b,a);c.blurY=readFixed(b,a);2!==d&&(c.angle=readFixed(b,a),c.distance=readFixed(b,a));c.strength=readFixed8(b,a);c.innerShadow=readUb(b,a,1);c.knockout=readUb(b,a,1);c.compositeSource=readUb(b,a,1);
3===d?c.onTop=readUb(b,a,1):readUb(b,a,1);4===d||7===d?c.passes=readUb(b,a,4):readUb(b,a,4);break;case 1:c.blurX=readFixed(b,a);c.blurY=readFixed(b,a);c.passes=readUb(b,a,5);readUb(b,a,3);break;case 5:e=c.columns=readUi8(b,a);g=c.rows=readUi8(b,a);c.divisor=readFloat(b,a);c.bias=readFloat(b,a);d=c.weights=[];for(e*=g;e--;)d.push(readFloat(b,a));d=c.defaultColor={};V(b,a,d);readUb(b,a,6);c.clamp=readUb(b,a,1);c.preserveAlpha=readUb(b,a,1);break;case 6:c=c.matrix=[];for(d=20;d--;)c.push(readFloat(b,
a))}}function Aa(b,a,c,d){var e=Q(b,a),g=e.e,e=e.f,f=c.records=[];do{var h={},e=P(b,a,h,d,x,g,e,x,j);c=e.eos;var g=e.e,e=e.f,j=j;f.push(h)}while(!c)}
L={"0":r,1:r,2:M,4:R,5:sa,6:U,7:ta,8:function(b,a,c){c||(c={});c.id=0;c.imgData=readBinary(b,a,0);c.mimeType="application/octet-stream";return c},9:function(b,a,c){c||(c={});var d=c.color={};W(b,a,d);return c},10:function(b,a,c,d,e){c||(c={});c.id=readUi16(b,a);var g=readUi16(b,a);d=c.glyphCount=g/2;for(var f=[],h=d-1;h--;)f.push(readUi16(b,a));c.offsets=[g].concat(f);for(g=c.glyphs=[];d--;)f={},Aa(b,a,f,e),g.push(f);return c},11:ua,12:va,13:r,14:function(b,a,c){c||(c={});c.id=readUi16(b,a);var d=
readUi8(b,a);c.soundFormat=d>>4&15;c.soundRate=d>>2&3;c.soundSize=d>>1&1;c.soundType=d&1;c.samplesCount=readUi32(b,a);c.soundData=readBinary(b,a,0);return c},15:wa,17:r,18:xa,19:function(b,a,c){c||(c={});c.data=readBinary(b,a,0);return c},20:ya,21:U,22:M,23:r,24:r,26:R,28:sa,32:M,33:ua,34:ta,35:U,36:ya,37:function(b,a,c){c||(c={});c.id=readUi16(b,a);var d=c.bbox={};N(b,a,d);var e=readUi16(b,a),d=c.hasText=e>>7&1;c.wordWrap=e>>6&1;c.multiline=e>>5&1;c.password=e>>4&1;c.readonly=e>>3&1;var g=c.hasColor=
e>>2&1,f=c.hasMaxLength=e>>1&1,h=c.hasFont=e&1,j=c.hasFontClass=e>>15&1;c.autoSize=e>>14&1;var k=c.hasLayout=e>>13&1;c.noSelect=e>>12&1;c.border=e>>11&1;c.wasStatic=e>>10&1;c.html=e>>9&1;c.useOutlines=e>>8&1;h&&(c.fontId=readUi16(b,a));j&&(c.fontClass=readString(b,a,0));h&&(c.fontHeight=readUi16(b,a));g&&(e=c.color={},V(b,a,e));f&&(c.maxLength=readUi16(b,a));k&&(c.align=readUi8(b,a),c.leftMargin=readUi16(b,a),c.rightMargin=readUi16(b,a),c.indent=readSi16(b,a),c.leading=readSi16(b,a));c.variableName=
readString(b,a,0);d&&(c.initialText=readString(b,a,0));return c},39:r,43:function(b,a,c){c||(c={});c.name=readString(b,a,0);return c},45:xa,46:M,48:za,56:r,57:r,58:r,59:va,60:r,61:r,62:r,64:r,65:r,66:r,69:function(b,a,c){c||(c={});readUb(b,a,1);c.useDirectBlit=readUb(b,a,1);c.useGpu=readUb(b,a,1);c.hasMetadata=readUb(b,a,1);c.doAbc=readUb(b,a,1);c.noCrossDomainCaching=readUb(b,a,1);c.relativeUrls=readUb(b,a,1);c.network=readUb(b,a,1);readUb(b,a,24);return c},70:R,71:r,72:Ba,73:r,74:r,75:za,76:function(b,
a,c){c||(c={});for(var d=readUi16(b,a),e=c.exports=[];d--;){var g={};g.symbolId=readUi16(b,a);g.className=readString(b,a,0);e.push(g)}return c},77:r,78:function(b,a,c){c||(c={});c.symbolId=readUi16(b,a);var d=c.splitter={};N(b,a,d);return c},82:Ba,83:M,84:M,86:function(b,a,c){c||(c={});for(var d=readEncodedU32(b,a),e=c.scenes=[];d--;){var g={};g.offset=readEncodedU32(b,a);g.name=readString(b,a,0);e.push(g)}d=readEncodedU32(b,a);for(e=c.labels=[];d--;)g={},g.frame=readEncodedU32(b,a),g.name=readString(b,
a,0),e.push(g);return c},87:function(b,a,c){c||(c={});c.id=readUi16(b,a);readUi32(b,a);c.data=readBinary(b,a,0);return c},88:r,89:wa,90:U,91:r};function Da(b,a,c){c||(c={});var d=c.bbox={};a.align();var e=readUb(b,a,5),g=readSb(b,a,e),f=readSb(b,a,e),h=readSb(b,a,e),e=readSb(b,a,e);d.xMin=g;d.xMax=f;d.yMin=h;d.yMax=e;a.align();d=readUi8(b,a);c.frameRate=readUi8(b,a)+d/256;c.frameCount=readUi16(b,a);return c}this.tagHandler=L;this.readHeader=Da;
function Ea(b,a,c,d){var e=b.tags,g=a.bytes,f;try{do{f=a.pos;a.ensure(2);var h=readUi16(g,a),j=h>>6,k=h&63;63===k&&(a.ensure(4),k=readUi32(g,a));a.ensure(k);if(0===j)break;var m=a.substream(a.pos,a.pos+=k),l=m.bytes,k={code:j};if(39===j)k.type="sprite",k.id=readUi16(l,m),k.frameCount=readUi16(l,m),k.tags=[],Ea(k,m,c);else{var q=L[j];q&&q(l,m,k,c,j)}e.push(k);if(1===j){for(;a.pos+2<=a.end&&1===a.getUint16(a.pos,v)>>6;)e.push(k),a.pos+=2;d&&d(b)}else d&&k.id!==r&&d(b)}while(a.pos<a.end)}catch(p){if(p!==
ha)throw p;a.pos=f}}function X(b){this.h=b||16;this.buffer=new Uint8Array(this.h);this.pos=0}X.prototype={push:function(b,a){var c=this.pos+b.length;if(this.h<c){for(var d=this.h;d<c;)d<<=1;c=new Uint8Array(d);0<this.h&&c.set(this.buffer);this.buffer=c;this.h=d}this.buffer.set(b,this.pos);this.pos+=b.length;if(a)return this.pos>=a},get t(){return this.buffer.buffer},get length(){return this.pos}};function Y(b){return new K(b.t,0,b.length)}
function Z(b,a){var c=b.buffer.subarray(a,b.pos);b.buffer=new Uint8Array(b.h);b.buffer.set(c);b.pos=c.length}function Fa(b,a){this.target=b;this.length=a;this.i=v;this.buffer=new X(8096);this.state={bitBuffer:0,bitLength:0,u:{}};this.w={data:new Uint8Array(a),g:0,j:x}}
Fa.prototype={push:function(b,a){var c=this.buffer;if(this.i){if(!c.push(b,2))return;Z(c,2);this.i=x}else c.push(b);var d=Y(c);d.bitBuffer=this.state.bitBuffer;d.bitLength=this.state.bitLength;var e=this.w,g=e.g;try{do fa(d,e,this.state.u);while(d.pos<c.length&&!e.j)}catch(f){if(f!==G)throw f;}finally{this.state.bitBuffer=d.bitBuffer,this.state.bitLength=d.bitLength}Z(c,d.pos);this.target.push(e.data.subarray(g,e.g),a)}};
function Ga(b,a,c){this.z={swfVersion:b};this.buffer=new X(32768);this.i=v;this.q=0;this.length=a;this.options=c}
Ga.prototype={push:function(b,a){if(0!==b.length){var c=this.z,d=c.swfVersion,e=this.buffer,g=this.options,f;if(this.i){if(!e.push(b,27))return;f=Y(e);var h=f.bytes;Da(h,f,c);if(readUi16(h,f)==(SWF_TAG_CODE_FILE_ATTRIBUTES<<6|4)){f.ensure(4);var h=f.substream(f.pos,f.pos+=4),j={code:SWF_TAG_CODE_FILE_ATTRIBUTES};(0,L[SWF_TAG_CODE_FILE_ATTRIBUTES])(h.bytes,h,j,d,SWF_TAG_CODE_FILE_ATTRIBUTES);c.fileAttributes=j}else f.pos-=2,c.fileAttributes={};if(g.onstart)g.onstart(c);c.tags=[];this.i=x}else e.push(b),
f=Y(e);a&&(c.bytesLoaded=a.bytesLoaded,c.bytesTotal=a.bytesTotal);Ea(c,f,d,g.onprogress);d=f.pos;Z(e,d);this.q+=d;if(this.q>=this.length&&g.oncomplete)g.oncomplete(c)}}};
SWF.s=function(b){var a=new X,c={push:function(d,e){if(this.target!==r)return this.target.push(d,e);if(!a.push(d,8))return null;var g=a.buffer.subarray(0,8),f=g[0],h=g[1],j=g[2];if((70===f||67===f)&&87===h&&83===j)f=67===f,g=g[3],h=Y(a),h.pos+=4,h=readUi32(null,h)-8,g=new Ga(g,h,b),f&&(g=new Fa(g,h)),g.push(a.buffer.subarray(8,a.pos),e),c.target=g;else{var g=x,k;255===f&&216===h&&255===j?(g=v,k="image/jpeg"):137===f&&(80===h&&78===j)&&(g=v,k="image/png");if(g){var m=k,l=new Uint8Array(e.bytesTotal);
l.set(d);var q=d.length;c.target={push:function(a){l.set(a,q);q+=a.length},close:function(){var a={},c;c="image/jpeg"==m?parseJpegChunks(a,l):[l];a={type:"image",props:a,data:new Blob(c,{type:m})};b.oncomplete&&b.oncomplete(a)}}}}a=null},close:function(){if(a){var c={A:"empty",data:a.buffer.subarray(0,a.pos)};b.oncomplete&&b.oncomplete(c)}this.target!==r&&this.target.close&&this.target.close()}};return c};
SWF.parse=function(b,a){a||(a={});var c=SWF.s(a),d=new Uint8Array(b);c.push(d,{bytesLoaded:d.length,bytesTotal:d.length})};this.SWF.parse=SWF.parse;this.SWF.parseAsync=SWF.s;
